[ç¯å›å…é™¤åˆ—è¡¨ loopback](https://v2ex.com/t/744981)



# æ— æ³•åˆ›å»ºæ–°çš„åˆ†åŒºä¹Ÿæ‰¾ä¸åˆ°ç°æœ‰çš„åˆ†åŒº

è£… win11 éœ€è¦è½¬ gpt æ ¼å¼



```
åœ¨è½¬æ¢åˆ†åŒºæ ·å¼ä¹‹å‰ï¼Œè¯·å¤‡ä»½æˆ–å°†æ•°æ®ç§»å‡ºç£ç›˜ã€‚

é€‰æ‹© â€œå¼€å§‹â€ï¼Œé”®å…¥ diskmgmt.mscï¼Œç„¶åé€‰æ‹© Enterã€‚

å³é”®å•å‡»ä¸ç£ç›˜ç›¸å…³çš„å·ã€‚

é€‰æ‹©â€œ åˆ é™¤å·â€ï¼Œç„¶åé€‰æ‹©â€œ æ˜¯â€ã€‚ å¯¹ç£ç›˜ä¸Šçš„æ‰€æœ‰å·é‡å¤æ­¤æ­¥éª¤ã€‚

å³é”®å•å‡»ç£ç›˜ï¼Œç„¶åé€‰æ‹©â€œ è½¬æ¢ä¸º MBR ç£ç›˜ â€æˆ– â€œè½¬æ¢ä¸º GPT ç£ç›˜â€ã€‚

è‹¥è¦éªŒè¯è½¬æ¢è¿‡ç¨‹ï¼Œè¯·å³é”®å•å‡»ç£ç›˜ï¼Œé€‰æ‹©â€œ å±æ€§â€ï¼Œé€‰æ‹©â€œ å· â€é€‰é¡¹å¡ï¼Œå¹¶æ£€æŸ¥åˆ†åŒºæ ·å¼ä¿¡æ¯ã€‚

```







```
åœ¨ç¡¬ç›˜åˆ†åŒºæ ¼å¼åŒ–ç•Œé¢æ—¶æŒ‰Shift+F10å‡ºç°å‘½ä»¤æç¤ºç¬¦ï¼š

è¿™ä¸ªæ—¶å€™å°±è¿›å…¥åˆ°äº†å…·æœ‰ç®¡ç†å‘˜æƒé™çš„CMDçª—å£ã€‚

è¿›å…¥CMDç¨‹åºåï¼Œä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š

1.diskpartï¼ˆå¯åŠ¨Diskpartç¨‹åºï¼‰
2.list disk ï¼ˆæŸ¥çœ‹ç”µè„‘ä¸­æœ‰å“ªäº›ç£ç›˜ï¼‰
3.select disk 0ï¼ˆé€‰ä¸­ç¼–å·ä¸º0çš„ç£ç›˜ï¼‰
4.cleanï¼ˆæ¸…é™¤ç£ç›˜æ‰€æœ‰åˆ†åŒºï¼‰
5.convert gptï¼ˆå°†ç£ç›˜è½¬æ¢æˆGPTæ ¼å¼ï¼‰æ ¹æ®å®é™…çš„éœ€è¦å¦‚æœæ˜¯legacyå¯åŠ¨çš„å°±è½¬æˆmbræ ¼å¼
6.list partitionï¼ˆæŸ¥çœ‹å½“å‰ç£ç›˜åˆ†åŒºæƒ…å†µï¼‰
7.create partition efi size=100ï¼ˆé»˜è®¤å¤§å°ä¸ºMï¼‰
8.create partition msr size =128
9.create partition primary size =102400(æ­¤å¤„ä¸ºä½ æƒ³è®¾ç½®Cç›˜çš„å¤§å°)
10.ä¸¤æ¬¡è¾“å…¥exit


```







# å‘½ä»¤è·¯å¾„

```
 (Get-Command conda).Path
```





# vscdoe + MSVC

[VS Code for Microsoft C++](https://code.visualstudio.com/docs/cpp/config-msvc)

```
è§£å†³ vscode è°ƒè¯•çª—å£ utf8 æ˜¾ç¤ºä¹±ç 
winé”® -> è®¾ç½® -> æ—¶é—´å’Œè¯­è¨€ -> æœ€å³è¾¹"æ—¥æœŸã€æ—¶é—´å’ŒåŒºåŸŸæ ¼å¼è®¾ç½®" 
  ->å…¶ä»–æ—¥æœŸã€æ—¶é—´å’ŒåŒºåŸŸè®¾ç½® ->åŒºåŸŸ æ›´æ”¹æ—¥æœŸã€æ—¶é—´æˆ–æ•°å­—æ ¼å¼
  -> ç®¡ç† ->æ›´æ”¹ç³»ç»ŸåŒºåŸŸè®¾ç½® ->Betaç‰ˆ:ä½¿ç”¨Unicode UTF-8æä¾›å…¨çƒè¯­è¨€æ”¯æŒ


æ‰“å¼€ Developer Command Prompt for VS 2019 å‘½ä»¤è¡Œ
åœ¨è¿™ä¸ªå‘½ä»¤è¡Œè¿è¡Œ code ï¼Œä¼šæ‰“å¼€ vscode
æ‰“å¼€ç›®å½• -> æ‰“å¼€æ–‡ä»¶t.cpp -> ctrl + shift + P -> è¾“å…¥C++ 
  -> é€‰ C/C++:Debug C/C++File
  	# ä¼šè‡ªåŠ¨ç”Ÿæˆ task.json

{
    "tasks": [
        {
            "type": "cppbuild",
            "label": "C/C++: cl.exe build active file",
            "command": "cl.exe",
            "args": [
                "/Zi",
                "/EHsc",
                "/nologo",
                "/Fe${fileDirname}\\${fileBasenameNoExtension}.exe",
                "${file}"
            ],
            "options": {
                "cwd": "${fileDirname}"
            },
            "problemMatcher": [
                "$msCompile"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "detail": "Task generated by Debugger."
        }
    ],
    "version": "2.0.0"
}




```





[vscodeä½¿ç”¨visual studioç¼–è¯‘å·¥å…·MSVCæ„å»ºC++å·¥ç¨‹](https://blog.csdn.net/qq_37429313/article/details/120588483)

```
ctrl + shift + x -> è¾“å…¥ easy c
	# å®‰è£… Easy C++ projects æ’ä»¶

ctrl + shit + p -> è¾“å…¥ c json
	# ä¼šç”Ÿæˆ c_cpp_properties.json

ctrl + shit + p -> è¾“å…¥ easy -> é€‰æ–°å»ºå·¥ç¨‹
	# é€‰ x64 visual studio 2019
	# ä¼šè‡ªåŠ¨ç”Ÿæˆ .vscode ä¸‹çš„å„ç§é…ç½®

```



```
# è‡ªåŠ¨ç”Ÿæˆçš„ build.bat ä¿®æ”¹æˆè¿™æ ·
@echo off
if exist "C:\Program Files (x86)\Microsoft Visual Studio\2019\BuildTools\VC\Auxiliary\Build\vcvarsall.bat" (
    call "C:\Program Files (x86)\Microsoft Visual Studio\2019\BuildTools\VC\Auxiliary\Build\vcvarsall.bat" x64
) else (
    if exist "C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Auxiliary\Build\vcvarsall.bat" (
        call "C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Auxiliary\Build\vcvarsall.bat" x64
    ) else (
        call "C:\Program Files (x86)\Microsoft Visual Studio\2019\Enterprise\VC\Auxiliary\Build\vcvarsall.bat" x64
    )
)
set compilerflags=/Od /Zi /EHsc /std:c++latest /I include /I C:\src\vcpkg\packages\fplus_x64-windows\include
set linkerflags=/OUT:bin\main.exe
cl.exe %compilerflags% src\*.cpp /link %linkerflags%
del bin\*.ilk *.obj *.pdb
```



```
# è‡ªåŠ¨ç”Ÿæˆçš„(ä¸æ˜¯) main.cpp ä¿®æ”¹æˆè¿™æ ·
#include <fplus/fplus.hpp>
#include <iostream>
using namespace std;

bool is_odd_int(int x) { return x % 2 != 0; }

int main(){
    typedef vector<int> Ints;
    Ints values = { 24, 11, 65, 44, 80, 18, 73, 90, 69, 18 };
    auto odds = fplus::keep_if(is_odd_int, values);
    std::cout << "done." << std::endl;
}
```



```
# å¯¹æ¯” MSYS32 MINGW64 æˆ–è®¸å¯ä»¥æ”¹è¿›ä¸€ä¸‹
{
    "tasks": [
        {
            "type": "cppbuild",
            "label": "C/C++: g++.exe build active file",
            "command": "C:\\msys64\\ucrt64\\bin\\g++.exe",
            "args": [
                "-fdiagnostics-color=always",
                "-g",
                "${file}",
                "-o",
                "${fileDirname}\\${fileBasenameNoExtension}.exe",
                "-IC:\\Program Files (x86)\\FunctionalPlus\\include"
            ],
            "options": {
                "cwd": "${fileDirname}"
            },
            "problemMatcher": [
                "$gcc"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "detail": "Task generated by Debugger."
        }
    ],
    "version": "2.0.0"
}
```



# vscdoe + windows ssh

https://github.com/PowerShell/Win32-OpenSSH/releases/download/v9.5.0.0p1-Beta/OpenSSH-Win64-v9.5.0.0.msi

- ```
  nmap -p 22 127.0.0.1
  	# è£…å®Œä»¥å windows çš„ 22 ç«¯å£å°±æ‰“å¼€äº†
  	
  ```

  

```
Stop-Service -Name sshd -Force
Set-Service -Name sshd -StartupType Disabled
	# åœæ­¢ ssh æœåŠ¡

netstat -aon | findstr "22"
	# æŸ¥çœ‹ç«¯å£

```





```
Get-WindowsCapability -Online | ? Name -like 'OpenSSH*'
	# powershell ç®¡ç†å‘˜æ‰§è¡Œ

Add-WindowsCapability -Online -Name OpenSSH.Client~~~~0.0.1.0
	# install

ssh i@127.0.0.1
	# powershell æˆåŠŸè¿ä¸Š


C:\Users\i\.ssh\config
Host 127.0.0.1
  HostName 127.0.0.1
  Port 22
  User i
  	# vscode æˆåŠŸè¿ä¸Š windows
  	# ç”šè‡³èƒ½æ‰“å¼€ C ç›˜æ ¹ç›®å½•


```



## wsl after ssh

```
[2024-07-21 03:18:52.192] Extension version: 0.88.2
[2024-07-21 03:18:52.192] L10N bundle: undefined
[2024-07-21 03:18:52.286] authorityHierarchy: ssh-remote+192.168.1.5 > wsl+Ubuntu-22.04
[2024-07-21 03:18:52.286] WSL extension is activating remotely for ssh-remote+192.168.1.5
[2024-07-21 03:19:04.504] Workspace platform is Windows
[2024-07-21 03:19:04.523] Run: C:\Windows\System32\wsl.exe --status
[2024-07-21 03:19:04.524] Resolving wsl+Ubuntu-22.04, resolveAttempt: 1
[2024-07-21 03:19:04.603] WSL feature installed: true (wsl --status)
[2024-07-21 03:19:04.603] WSL feature installed: true
[2024-07-21 03:19:04.618] Run: C:\Windows\System32\wsl.exe --list --verbose
[2024-07-21 03:19:04.692] 2 distros found
[2024-07-21 03:19:04.693] Starting VS Code Server inside WSL (wsl2)
[2024-07-21 03:19:04.693] Windows build: 22631. Multi distro support: available. WSL path support: enabled
[2024-07-21 03:19:04.693] Probing if server is already installed: if [ -d "$HOME/.vscode-server/bin-cli/f1e16e1e6214d7c44d078b1f0607b2388f29d729" ]; then printf 'install-found '; fi; if [ -f /etc/alpine-release ]; then printf alpine-; fi; uname -m
[2024-07-21 03:19:04.693] Run: C:\Windows\System32\wsl.exe -d Ubuntu-22.04 -e sh -c if [ -d "$HOME/.vscode-server/bin-cli/f1e16e1e6214d7c44d078b1f0607b2388f29d729" ]; then printf 'install-found '; fi; if [ -f /etc/alpine-release ]; then printf alpine-; fi; uname -m
[2024-07-21 03:19:04.751] Probing result: x86_64
[2024-07-21 03:19:04.751] VS Code CLI not found in Ubuntu-22.04, installing...
[2024-07-21 03:19:04.751] Remove old installs from $HOME/.vscode-server/bin-cli
[2024-07-21 03:19:04.751] Run: C:\Windows\System32\wsl.exe -d Ubuntu-22.04 -e sh -c if [ -d "$HOME/.vscode-server/bin-cli" ]; then rm -rf "$HOME/.vscode-server/bin-cli"/????????????????????????????????????????; rm -rf "$HOME/.vscode-server/bin-cli"/????????????????????????????????????????-*; fi
[2024-07-21 03:19:04.809] Create directory $HOME/.vscode-server/bin-cli/f1e16e1e6214d7c44d078b1f0607b2388f29d729-1721531944809
[2024-07-21 03:19:04.809] Run: C:\Windows\System32\wsl.exe -d Ubuntu-22.04 -e sh -c mkdir -p "$HOME/.vscode-server/bin-cli/f1e16e1e6214d7c44d078b1f0607b2388f29d729-1721531944809"
[2024-07-21 03:19:04.875] Aquire cli: C:\Windows\System32\wsl.exe -d Ubuntu-22.04 -e sh -c tee "$HOME/.vscode-server/bin-cli/f1e16e1e6214d7c44d078b1f0607b2388f29d729-1721531944809/code-cli" >/dev/null, commit: f1e16e1e6214d7c44d078b1f0607b2388f29d729, platform: linux-x64, quality: stable
[2024-07-21 03:19:10.952] Move directory $HOME/.vscode-server/bin-cli/f1e16e1e6214d7c44d078b1f0607b2388f29d729-1721531944809 to $HOME/.vscode-server/bin-cli/f1e16e1e6214d7c44d078b1f0607b2388f29d729
[2024-07-21 03:19:10.952] Run: C:\Windows\System32\wsl.exe -d Ubuntu-22.04 -e sh -c mv "$HOME/.vscode-server/bin-cli/f1e16e1e6214d7c44d078b1f0607b2388f29d729-1721531944809" "$HOME/.vscode-server/bin-cli/f1e16e1e6214d7c44d078b1f0607b2388f29d729" && chmod +x "$HOME/.vscode-server/bin-cli/f1e16e1e6214d7c44d078b1f0607b2388f29d729/code-cli"
[2024-07-21 03:19:11.012] Run cli: C:\Windows\System32\wsl.exe -d Ubuntu-22.04 $HOME/.vscode-server/bin-cli/f1e16e1e6214d7c44d078b1f0607b2388f29d729/code-cli
[2024-07-21 03:19:11.018] VS Code CLI is running in WSL...
[2024-07-21 03:19:11.018] Installing server in Ubuntu-22.04
[2024-07-21 03:19:11.156] [nested server]: [2024-07-21 11:19:10] info Checking /root/.vscode/cli/servers/Stable-f1e16e1e6214d7c44d078b1f0607b2388f29d729/log.txt and /root/.vscode/cli/servers/Stable-f1e16e1e6214d7c44d078b1f0607b2388f29d729/pid.txt for a running server...
[2024-07-21 03:19:11.260] [nested server]: [2024-07-21 11:19:10] debug Installing and setting up Visual Studio Code Server...
[2024-07-21 03:19:11.260] [nested server]: [2024-07-21 11:19:10] debug [reqwest::connect] starting new connection: https://update.code.visualstudio.com/
[2024-07-21 03:19:11.260] [nested server]: [2024-07-21 11:19:10] trace making delegated request to https://update.code.visualstudio.com/commit:f1e16e1e6214d7c44d078b1f0607b2388f29d729/server-linux-x64/stable
```





# win10 é‡ç½®ç½‘ç»œ

```
netsh winsock reset

172.16.6.1
172.16.6.238

```





### socks5 è½¬ http

```
# https://maplege.github.io/2017/09/04/socksTOhttp/
	# socksè½¬ä¸ºhttpä»£ç†
	apt update && apt-get install privoxy
	vi /etc/privoxy/config
	forward-socks5   /               172.16.6.253:1080 .
	listen-address 0.0.0.0:1080
    service privoxy restart
    http_proxy=http://127.0.0.1:1080 curl google.com
    	# æˆåŠŸè®¿é—® google
```





# è°ƒè™šæ‹Ÿå†…å­˜

æˆ‘çš„ç”µè„‘ ->å±æ€§ -> é«˜çº§ç³»ç»Ÿè®¾ç½® ->é«˜çº§ -> æ€§èƒ½ ->è®¾ç½® -> é«˜çº§ ->æ›´æ”¹



```
dd if=/dev/zero of=/mnt/swapfile bs=1M count=20480
	# 20G ç©ºæ–‡ä»¶

mkswap /mnt/swapfile
	# æ ¼å¼åŒ–äº¤æ¢æ–‡ä»¶

swapon /mnt/swapfile
	# æŒ‚è½½äº¤æ¢æ–‡ä»¶

vi /etc/fstab
/mnt/swapfile swap swap defaults 0 0
	# åŠ åœ¨åé¢ï¼Œå¼€æœºè‡ªåŠ¨åŠ è½½
	
free -h
	# æŸ¥çœ‹å†…å­˜å¤§å°
```



# å¯åŠ¨ç®¡ç†

```

Windows +R -> msconfigã€‚ä¹Ÿå¯ä»¥æ‰“å¼€å¼€å§‹èœå•ç¨‹åºåˆ—è¡¨ä¸­çš„ â€œWindows ç®¡ç†å·¥å…·â€ï¼Œâ€œç³»ç»Ÿé…ç½®â€ã€‚Windows 10 ç³»ç»Ÿåˆ™æ‰“å¼€â€œä»»åŠ¡ç®¡ç†å™¨â€åå°±èƒ½ç®¡ç†å¯åŠ¨é¡¹ã€‚
```



# ç«¯å£è½¬å‘

```

netsh interface portproxy show all

åœ°å€            ç«¯å£        åœ°å€            ç«¯å£
--------------- ----------  --------------- ----------
0.0.0.0         2222        127.0.0.1       22

	# æŸ¥çœ‹å·²æœ‰ç«¯å£è½¬å‘ï¼Œæœ¬æœº 2222 -> wsl çš„ 22


netsh interface portproxy add v4tov4 listenport=2222 listenaddress=0.0.0.0 connectport=22 connectaddress=127.0.0.1
	# æ–°å¢ç«¯å£è½¬å‘


```







# æŸ¥çœ‹ç«¯å£å ç”¨

```

Get-Process -Id (Get-NetTCPConnection -LocalPort 2222).OwningProcess

```





# å…³é—­ç«¯å£è¿›ç¨‹

```
Get-NetTCPConnection -LocalPort 8080 | ForEach-Object { Stop-Process -Id $_.OwningProcess -Force }
```



# è¿›ç¨‹è·¯å¾„å‚æ•°

```

tasklist /fi "imagename eq nginx.exe"

> Get-CimInstance Win32_Process -Filter "ProcessId=7092" | Select-Object CommandLine, ExecutablePath

CommandLine ExecutablePath
----------- --------------
nginx       D:\nginx-1.24.0\nginx.exe

```





# éšè—çª—å£æ ‡é¢˜

```

see E:\huggingface\powershell\hidetitle.ahk

AutoHotKey

WinSet, Style, -0xC00000, ahk_exe mstsc.exe ; Remove the active window's title bar (WS_CAPTION).

	# å®æµ‹å¯ä»¥ï¼Œwindows è¿ç¨‹æ¡Œé¢çª—å£æ ‡é¢˜å’Œæœ€å¤§æœ€å°åŒ–æŒ‰é’®éƒ½æ¶ˆå¤±äº†	

```





# WSL



```
\\wsl$   win10 åœ¨ åœ°å€æ è¾“å…¥è¿™ä¸ªï¼Œç›´æ¥å®šä½åˆ° wsl ubuntu æ ¹ç›®å½•

see nodejs summary.md -> InternLM

ssh -CNg -L 6006:127.0.0.1:6006 root@connect.bjb1.seetacloud.com -p 53862
http://localhost:6006
	# æˆåŠŸè®¿é—® gradio

```



## ä¹±ç 

```
# wsl2 ubuntu22.04 æ‰§è¡Œ
mkdir -p /usr/share/fonts/windows11 && 
cp -rf /mnt/c/Windows/Fonts/* /usr/share/fonts/windows11 && 
ls /usr/share/fonts/windows11/
	# å®æµ‹è§£å†³é—®é¢˜
	
è®¾ç½® Ubuntu ä¸­æ–‡è¯­è¨€ç¯å¢ƒ
```



## éšç³»ç»Ÿå¯åŠ¨

```
C:\Windows\system32\wsl.exe -d Ubuntu-22.04
	# å¯åŠ¨

æ‰“å¼€ä»»åŠ¡è®¡åˆ’ç¨‹åºã€‚
ç‚¹å‡»å³è¾¹çš„åˆ›å»ºä»»åŠ¡ã€‚
ä»»åŠ¡çš„åç§°å’Œæè¿°å¯ä»¥éšä¾¿å†™ï¼Œå®‰å…¨é€‰é¡¹éœ€è¦é€‰æ‹©â€œä¸ç®¡ç”¨æˆ·æ˜¯å¦ç™»å½•éƒ½è¦è¿è¡Œâ€ã€‚
ç‚¹å‡»ä¸Šæ–¹çš„â€œè§¦å‘å™¨â€é€‰é¡¹å¡ï¼Œç‚¹æ–°å»ºæŒ‰é’®ï¼Œç„¶åä¼šå¡å‡ ç§’ï¼ˆå¾®è½¯çš„è€ BUG ï¼‰ã€‚å¼€å§‹ä»»åŠ¡ä¸­é€‰æ‹©â€œå¯åŠ¨æ—¶â€ï¼Œç„¶åç‚¹å‡»ç¡®å®šã€‚
â€œæ“ä½œâ€é€‰é¡¹å¡ä¸­ï¼Œç‚¹æ–°å»ºæŒ‰é’®ï¼Œç„¶åâ€œç¨‹åºæˆ–è„šæœ¬â€ä¸‹çš„æ–‡æœ¬æ¡†é‡Œè¾“å…¥"C:\Program Files\WSL\wsl.exe"ï¼Œå¼•å·ä¹Ÿè¦å¸¦ä¸Šï¼ˆéå¸¸é‡è¦ï¼Œé™¤äº†è¿™ä¸ªç›®å½•ä¸‹çš„wsl.exeï¼Œå…¶ä»–ä½ç½®çš„éƒ½ä¸è¡Œï¼‰ã€‚æ·»åŠ å‚æ•°å¯ä»¥æ ¹æ®éœ€è¦å¡«å†™ï¼Œæ¯”å¦‚-d DebianæŒ‡å®šå‘è¡Œç‰ˆã€‚
â€œæ¡ä»¶â€é€‰é¡¹å¡ä¸­ï¼Œæ‰€æœ‰é€‰é¡¹å…¨éƒ¨å–æ¶ˆå‹¾é€‰ã€‚
â€è®¾ç½®â€œé€‰é¡¹å¡ä¸­ï¼Œé™¤äº†â€œå…è®¸æŒ‰éœ€æ‰§è¡Œä»»åŠ¡â€ï¼Œå…¶ä»–å…¨éƒ¨å–æ¶ˆå‹¾é€‰ã€‚
ç‚¹å‡»ç¡®å®šå…³é—­çª—å£ã€‚å¯ä»¥å…ˆå³é”®è¿è¡Œè¯•è¯•æ•ˆæœã€‚è¿™ç§æ–¹æ³•è¿è¡Œçš„ WSL å³ä½¿å½“å‰ç”¨æˆ·æ³¨é”€ä¹Ÿæ˜¯ä¼šç»§ç»­è¿è¡Œçš„ã€‚


```



```

vi wslAutoStart.ps1
# å®šä¹‰å‚æ•°
param(
    [string]$DistroName = "Ubuntu-22.04",  # é»˜è®¤å‘è¡Œç‰ˆåç§°
    [string]$WslPath = "C:\Windows\System32\wsl.exe"  # wsl.exe é»˜è®¤è·¯å¾„
)

# éªŒè¯ wsl.exe è·¯å¾„æ˜¯å¦å­˜åœ¨
if (-not (Test-Path $WslPath)) {
    Write-Error "wsl.exe æœªåœ¨è·¯å¾„ $WslPath æ‰¾åˆ°ï¼Œè¯·æ£€æŸ¥è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼"
    exit 1
}

# åˆ›å»ºä»»åŠ¡è®¡åˆ’é…ç½®
$TaskName = "WSL_AutoStart_$DistroName"
$TaskDescription = "ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨ WSL å‘è¡Œç‰ˆ $DistroName"

# åˆ›å»ºè§¦å‘å™¨ï¼ˆç³»ç»Ÿå¯åŠ¨æ—¶è§¦å‘ï¼‰
$Trigger = New-ScheduledTaskTrigger -AtStartup

# åˆ›å»ºæ“ä½œï¼ˆæ‰§è¡Œ wsl.exe å¹¶æŒ‡å®šå‘è¡Œç‰ˆï¼‰
$Action = New-ScheduledTaskAction `
    -Execute $WslPath `
    -Argument "-d $DistroName"

# é…ç½®ä»»åŠ¡è®¾ç½®
$Settings = New-ScheduledTaskSettingsSet `
    -AllowStartIfOnBatteries `
    -DontStopIfGoingOnBatteries `
    -StartWhenAvailable `
    -DontStopOnIdleEnd

# é…ç½®ä»»åŠ¡æƒé™ï¼ˆæœ€é«˜æƒé™ä¸”æ— éœ€ç”¨æˆ·ç™»å½•ï¼‰
$Principal = New-ScheduledTaskPrincipal `
    -UserId "SYSTEM" `
    -LogonType ServiceAccount `
    -RunLevel Highest

# æ³¨å†Œè®¡åˆ’ä»»åŠ¡
Register-ScheduledTask `
    -TaskName $TaskName `
    -Description $TaskDescription `
    -Trigger $Trigger `
    -Action $Action `
    -Settings $Settings `
    -Principal $Principal `
    -Force

# è¾“å‡ºç»“æœ
Write-Host "âœ… å·²åˆ›å»ºä»»åŠ¡è®¡åˆ’ï¼š$TaskName"
Write-Host "â±ï¸ è§¦å‘å™¨ï¼šç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨è¿è¡Œ"
Write-Host "ğŸ“ æ‰§è¡Œå‘½ä»¤ï¼š$WslPath -d $DistroName"


Set-ExecutionPolicy RemoteSigned -Scope Process -Force
.\wslAutoStart.ps1


```





## é˜»æ­¢ä¼‘çœ 

```
WIN+R è¿è¡Œ shell:startup æ‰“å¼€å¯åŠ¨ç›®å½•
åœ¨æ­¤ç›®å½•ä¸­åˆ›å»ºæ–‡ä»¶ wsl-startup.vbs
åœ¨ wsl-startup.vbs ä¸­å¡«å……å¦‚ä¸‹å†…å®¹ï¼ŒArchéœ€æ›¿æ¢ä¸ºä½ ä½¿ç”¨çš„å‘è¡Œç‰ˆåç§°ã€‚
set ws=wscript.CreateObject("wscript.shell")
ws.run "wsl -d Arch", 0
è¿™æ ·å½“ä½ ç³»ç»Ÿå¯åŠ¨ï¼Œç™»å½•ç³»ç»Ÿåï¼ŒWindowsä¼šå¼€å¯ WSL å®ä¾‹ï¼Œå®ƒä¼šæ°¸ä¹…ç­‰å¾…è¾“å…¥ï¼Œä¸ä¼šå…³é—­ã€‚æ‰€ä»¥å½“ä½ ä¸‹æ¬¡å†ä½¿ç”¨WSLå‘½ä»¤æ—¶ï¼Œå°±ä¸ä¼šé‡åˆ°éœ€è¦é‡æ–°å”¤é†’ WSL çš„è€—æ—¶ã€‚
```





## Install wsl2

```
å…³é”®ï¼š
windows server 2022 å…ˆå®‰è£…æ‰€æœ‰æ›´æ–°
å†ï¼š wsl --update
	# åé¢è£… Ubuntu-20.04 å°±æ­£å¸¸äº†

dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart

dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart

å» BIOS å¼€å¯è™šæ‹ŸåŒ–

wsl.exe --install --no-distribution
	# è£… androidæ¨¡æ‹Ÿå™¨æåä»¥åè¿è¡Œè¿™ä¸ª

wsl --list
	# å·²å®‰è£…

1. æ§åˆ¶é¢ç‰ˆå¸è½½ ubuntu wsl
2. wsl --unregister Ubuntu-20.04
C:\Users\i\AppData\Local\Packages\CanonicalGroupLimited.Ubuntu18.04onWindows_79rhkp1fndgsc\LocalState\rootfs
	# åˆ æ–‡ä»¶

wsl --unregister Ubuntu-20.04
	# è¿™æ–°é‡è£…åå®ƒæ‰ä¸é”™

wsl --list --online
	-> Debian
	-> Ubuntu-20.04    Ubuntu 20.04 LTS

wsl --install -d Ubuntu-20.04

    $env:http_proxy="http://127.0.0.1:7890"
    $env:https_proxy="http://127.0.0.1:7890"

    $env:all_proxy="socks5://127.0.0.1:7890"
    wsl --install -d Ubuntu-24.04
		# ä»£ç†å®‰è£…
		# å®æµ‹ä¸èµ·ä½œç”¨ï¼Œéœ€è¦è®¾ç½® windows å…¨å±€ä»£ç†
		# è®¾ç½® > ç½‘ç»œå’Œ Internet > ä»£ç†ã€‚
		# åœ¨â€œæ‰‹åŠ¨ä»£ç†è®¾ç½®â€ä¸­å¡«å†™ SOCKS5 åœ°å€ 127.0.0.1:7890

	curl --socks5 127.0.0.1:7890 google.com
		# wsl ubuntu-20.04 clash æä¾›çš„ä»£ç†
		# MinW64 è¿™æ ·è¿è¡Œ
			# curl.exe --socks5 127.0.0.1:7890 google.com
				# powershell è¿è¡Œä¸€å®šä¸èƒ½å°‘ .exe
	
	> $env:all_proxy="socks5://127.0.0.1:7890"
    > curl.exe google.com
		# è¿™æ ·å®æµ‹æˆåŠŸ
	
		

wsl --set-default-version 2

wsl --update

wsl --terminate Ubuntu-22.04
	# åœæ­¢è¿è¡Œ

wsl --shutdown
	# å…³é—­æ‰€æœ‰


HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\LxssManager
	# On the right pane, locate Start and set the Value Data to 2.
	# å‡ºé”™çš„è¯ï¼Œè¿™æ ·å°±å¥½äº†

cat /etc/passwd
--> root:x:0:0:root:/root:/bin/bash

HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Lxss\{6f84f58e-2c93-4199-b374-eb7ccb8a61d1}
DefaultUid æ”¹æˆ åè¿›åˆ¶çš„ 0
	# æˆåŠŸæ›´æ”¹é»˜è®¤ç”¨æˆ·
	# ä¸çŸ¥ä¸ºä»€ä¹ˆæœ€è¿‘å¤±æ•ˆäº†ï¼Œçœ‹ä¸‹é¢

ubuntu2204.exe config --default-user root
	# æ›´æ”¹é»˜è®¤ç”¨æˆ·æˆåŠŸ
	# è¯•çœ‹åœ¨ .wslconfig é…ç½®é‡ŒåŠ  ï¼Ÿ

sudo passwd
	# è¿™å°±æ˜¯æ”¹ root å¯†ç 
	
	
vi /etc/ssh/sshd_config

PermitRootLogin yes
PasswordAuthentication yes
	# æ”¹è¿™ä¸¤ä¸ªé‡å¯ ssh æˆåŠŸç™»å½•

ufw disable

sudo sed -i 's/#PermitRootLogin prohibit-password/PermitRootLogin yes/' /etc/ssh/sshd_config

systemctl restart ssh

ufw allow ssh


vi ~/.condarc
proxy_servers:
  http: http://172.16.6.253:8118
  https: http://172.16.6.253:8118
ssl_verify: false
	# åº·è¾¾è®¾ç½®ä»£ç†

conda clean -a
	# ä»£ç†æ˜¯OK çš„ï¼Œå‡ºé”™æ‰§è¡Œè¿™ä¸ªå°±å¯ä»¥äº†

```



### ç¦»çº¿å®‰è£… wsl é•œåƒ

```

https://cloud-images.ubuntu.com/wsl/releases/24.04/current/ubuntu-noble-wsl-amd64-wsl.rootfs.tar.gz
	# ä¸‹è½½

wsl --import Ubuntu24.04 E:\Ubuntu2404_wsl X:\win10_dev\ubuntu-noble-wsl-amd64-wsl.rootfs.tar.gz
	# å¯¼å…¥å®‰è£…

wsl -l
	# åˆ—å‡ºå·²å®‰è£…

wsl -d Ubuntu24.04
	# å¯åŠ¨

wsl --terminate Ubuntu-24.04
	# åœæ­¢è¿è¡Œ

wsl --shutdown
	# å…³é—­æ‰€æœ‰


```





## Install Cosmic æ¡Œé¢

```

ubuntu 24.04

sudo apt update && sudo apt upgrade -y \
  && sudo apt install cargo cmake just libfontconfig-dev libfreetype-dev libexpat1-dev pkg-config -y \
  && sudo apt install libwayland-dev libxkbcommon-dev libseat-dev libinput-dev -y
  && apt install libgstreamer1.0-dev libgstreamer-plugins-base1.0-dev libdbus-1-dev -y \
  && sudo apt install libglvnd-dev libwayland-dev libseat-dev libxkbcommon-dev libinput-dev udev dbus libdbus-1-dev libsystemd-dev libpixman-1-dev libssl-dev libflatpak-dev libpulse-dev libexpat1-dev libfontconfig-dev libfreetype-dev mold libgbm-dev libclang-dev libpipewire-0.3-dev libpam0g-dev -y \
  && echo 'export PKG_CONFIG_PATH=/usr/lib/x86_64-linux-gnu/pkgconfig:$PKG_CONFIG_PATH' >> ~/.bashrc \
  && source ~/.bashrc \
  && pkg-config --cflags --libs gstreamer-1.0 \
  && apt install rustup -y && rustup update \
  && rustup default stable

git clone --recurse-submodules https://github.com/pop-os/cosmic-epoch \
  && cd cosmic-epoch \
  && just sysext
  	# å®‰è£… cosmic æ¡Œé¢
  
sudo mv cosmic-sysext /var/lib/extensions \
  && sudo systemctl enable --now systemd-sysext \
  && sudo systemctl restart gdm 
  	# ç™»å½•æ—¶é€‰æ‹© COSMIC ä¼šè¯  
  

git clone https://github.com/pop-os/cosmic-player && cd cosmic-player \
  && cargo build
	# æˆåŠŸç¼–è¯‘


```





## windows10 é™åˆ¶ wsl2 å†…å­˜å ç”¨

```
Windows + R -> è¾“å…¥ %UserProfile% è¿è¡Œè¿›å…¥ç”¨æˆ·æ–‡ä»¶å¤¹ -> æ–°å»ºæ–‡ä»¶ .wslconfigï¼ŒåŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š

C:\Users\i\.wslconfig

[wsl2]
memory=4G
swap=2G
processors=2
localhostForwarding=true

[experimental]
autoMemoryReclaim=gradual  
networkingMode=mirrored
dnsTunneling=true
firewall=true
autoProxy=true
	
	# å®é™…å¥½ç”¨çš„é…ç½®


[wsl2]
memory=1G # é™åˆ¶æœ€å¤§ä½¿ç”¨å†…å­˜
swap=1G # é™åˆ¶æœ€å¤§ä½¿ç”¨è™šæ‹Ÿå†…å­˜
processors=1 # é™åˆ¶æœ€å¤§ä½¿ç”¨cpuä¸ªæ•°
localhostForwarding=true

cmdä¸­è¿è¡Œå‘½ä»¤å…³é—­å½“å‰çš„å­ç³»ç»Ÿ
wsl --shutdown

å³å‡»å·¦ä¸‹è§’"win" æŒ‰é’® -> ä»»åŠ¡ç®¡ç†å™¨ -> å¯ä»¥çœ‹åˆ° Vmmem è¿›ç¨‹çš„å†…å­˜ç‚¹ç”¨
	# è¿™å°±æ˜¯ wsl2 çš„å½“å‰å†…å­˜å ç”¨ï¼Œå®ƒä¸æ˜¯ä¸€ä¸‹å°±å æ»¡çš„ï¼Œä¼šè‡ªåŠ¨å¢é•¿
 

```



## vscode è¿ wsl2

```
Remote - SSH
	# è£…æ’ä»¶

ssh root@localhost
	# è¿™æ ·å°±å¯ä»¥äº†

```


## WSL2 ç½‘ç»œç»ˆææ–¹æ¡ˆã€€

[WSL2 ç½‘ç»œçš„æœ€ç»ˆè§£å†³æ–¹æ¡ˆ](https://zhuanlan.zhihu.com/p/593263088)



## é™æ€ IP

https://www.ryanshang.com/2022/10/23/WSL2%E8%AE%BE%E7%BD%AE%E9%9D%99%E6%80%81IP/



## è¿œç¨‹æ¡Œé¢

https://qiita.com/atomyah/items/887a5185ec9a8206c7c4  **å¿…çœ‹**

https://zhuanlan.zhihu.com/p/149501381

https://zhuanlan.zhihu.com/p/657904628 WSL2çš„å›¾å½¢åŒ–æ”¯æŒ **å¿…çœ‹**

https://learn.microsoft.com/zh-cn/windows/wsl/tutorials/gui-apps  å…ˆè£…é©±åŠ¨

https://askubuntu.com/questions/369012/how-to-run-a-complete-gui-as-root   å„ç§æ¡Œé¢ root ç™»å½•æ–¹æ³•



```
sudo apt update && sudo apt -y upgrade && 
sudo apt -y install xfce4 && 
sudo apt-get install xrdp 
	# å¦‚æœå‡ºç°é€‰é¡¹ï¼Œé€‰ gdm3

sudo cp /etc/xrdp/xrdp.ini /etc/xrdp/xrdp.ini.bak  && 
sudo sed -i 's/3389/3390/g' /etc/xrdp/xrdp.ini  && 
sudo sed -i 's/max_bpp=32/#max_bpp=32\nmax_bpp=128/g' /etc/xrdp/xrdp.ini && 
sudo sed -i 's/xserverbpp=24/#xserverbpp=24\nxserverbpp=128/g' /etc/xrdp/xrdp.ini && 
echo xfce4-session > ~/.xsession

vi /etc/xrdp/startwm.sh

# ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ # test -x /etc/X11/Xsession && exec /etc/X11/Xsession
# ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ # exec /bin/sh /etc/X11/Xsession

# xfce
startxfce4

	# æœ€åå‡ è¡Œæ”¹æˆè¿™æ ·

sudo /etc/init.d/xrdp start


wsl --shutdown

 /etc/init.d/xrdp start

localhost:3390
	# win11 è¿œç¨‹æ¡Œé¢è¿è¿™ä¸ª
	# ç”¨æˆ·å i è¿æ¥æˆåŠŸï¼
	# ä½†æ˜¯ root è¿ï¼Œé—ªé€€ï¼
	# è£…å®Œ chrome æ­£å¸¸æ‰“å¼€ï¼Œä½†æ˜¯ terminal æ‰“ä¸å¼€


apt install screenfetch && 
screenfetch
	# æ˜¾ç¤ºå½“å‰æ¡Œé¢ç¯å¢ƒ

xfce4-settings-manager
	# å‘½ä»¤è¡Œä¸‹é¢æ‰“è¿™ä¸ªï¼Œç›´æ¥å‡ºå›¾ç‰‡ç•Œé¢ï¼
	
apt install xfce4-terminal
	# è£…è¿™ä¸ªä»¥åï¼Œåœ¨è¿œç¨‹æ¡Œé¢å¯ä»¥æœ xfce4 ï¼Œæ­£å¸¸æ‰“å¼€å‘½ä»¤è¡Œçª—å£


```





```
sudo /etc/init.d/xrdp start
	# è¿™æ ·å¯åŠ¨
	
apt install xfce4 xfce4-goodies -y && 
apt install xrdp -y 

é€‰ lightdm

dpkg-reconfigure lightdm
	# è£…å®Œä»¥åå¯ä»¥ç”¨è¿™ä¸ªå†é€‰ä¸€æ¬¡ lightdm

vi /etc/xrdp/xrdp.ini
port=3390
	# ç«¯å£æ”¹æˆ 3390 é˜²æ­¢å’Œ windows å†²çª

cd ~ && 
echo "xfce4-session" | tee .xsession 

/etc/init.d/xrdp start
	# WSL2 é‡Œé¢ä¸èƒ½ç”¨ systemd, æ‰€ä»¥éœ€è¦æ‰‹åŠ¨å¯åŠ¨

win10 è¿œç¨‹æ¡Œé¢ç”¨è¿™ä¸ªè¿æ¥ï¼š

localhost:3390
	# æˆåŠŸè¿æ¥ï¼

	
```



## å…³é—­

```
wsl --shutdown
wsl.exe --terminate <å‘è¡Œç‰ˆåç§°>
```



## å¤‡ä»½

```
wsl --shutdown
wsl -l -v
wsl --export Ubuntu-20.04 F:\WSL2_backup\wsl2_Ubuntu-20.04.tar
	# å¤‡ä»½

wsl --import Ubuntu F:\WSL2_backup\wsl2_Ubuntu-20.04.tar
	# è¿˜åŸ


```



## åˆ æ–‡ä»¶é‡Šæ”¾ç©ºé—´

```
åœ¨ PowerShell ä¸­æ‰§è¡Œï¼š

# å…³é—­ WSL2 ä¸­çš„ linux distributions
wsl --shutdown
# è¿è¡Œç®¡ç†è®¡ç®—æœºçš„é©±åŠ¨å™¨çš„ DiskPart å‘½ä»¤
diskpart
åœ¨æ–°æ‰“å¼€çš„ DiskPart å‘½ä»¤çª—å£ä¸­æ‰§è¡Œï¼š

# é€‰æ‹©è™šæ‹Ÿç£ç›˜æ–‡ä»¶
select vdisk file="C:\Users\richa\AppData\Local\Packages\CanonicalGroupLimited.Ubuntu20.04onWindows_79rhkp1fndgsc\LocalState\ext4.vhdx"
# å‹ç¼©æ–‡ä»¶
compact vdisk
# å‹ç¼©å®Œæ¯•åå¸è½½ç£ç›˜
detach vdisk
```





## Install chrome

```
apt install fonts-liberation libu2f-udev && 
wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb && 
dpkg -i google-chrome-stable_current_amd64.deb && 
apt --fix-broken install

 snap remove chromium
 	# å¸è½½

cd /usr/share/applications/ &&
cp google-chrome.desktop ~/Desktop/
	# æ‰‹åŠ¨æ·»åŠ å¿«æ·æ–¹å¼ ï¼Ÿ


git config --global core.autocrlf ture

wget https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpm && \
wget https://dl.google.com/linux/linux_signing_key.pub && \
rpm --import linux_signing_key.pub && \
dnf install -y google-chrome-stable_current_x86_64.rpm

google-chrome &
	# æ³¨æ„ï¼šchrome éœ€è¦é root è´¦å·è¿è¡Œ
	useradd i
	passwd i
		# å¯†ç è®¾ç½®æˆå’Œ root ä¸€æ ·

vi /usr/bin/google-chrome

æœ€åä¸€è¡ŒåŠ ï¼š
--user-data-dir --test-type --no-sandbox

æ”¹å®Œåï¼š

exec -a "$0" "$HERE/chrome" "$@" --user-data-dir --test-type --no-sandbox

	# root æˆåŠŸè¿è¡Œ chrome
```



### ç¦æ­¢ç”¨æˆ·ä¸‹è½½æœ‰å®³æ–‡ä»¶

å·²è¢«è´µç»„ç»‡å±è”½

```

chrome://settings/content/insecureContent

å…è®¸æ˜¾ç¤ºä¸å®‰å…¨å†…å®¹æ·»åŠ [*.]com

ç ´æ¡ˆäº†ï¼æˆ‘æŠŠ IDM æ‰©å±•å¸è½½åï¼Œå°±èƒ½ç”¨äº†
 

é€‚ç”¨äºåœ¨ Chrome æµè§ˆå™¨ä¸­ç™»å½•å—ç®¡ç†å¸å·çš„ Windows ç”¨æˆ·ã€‚
ä½¿ç”¨ç»„ç­–ç•¥
åœ¨ç»„ç­–ç•¥ç®¡ç†ï¼ˆâ€œè®¡ç®—æœºé…ç½®â€æˆ–â€œç”¨æˆ·é…ç½®â€æ–‡ä»¶å¤¹ï¼‰ä¸­ï¼š
ä¾æ¬¡ç‚¹å‡»ç­–ç•¥ æ¥ç€ç‚¹æŒ‰ ç®¡ç†æ¨¡æ¿ æ¥ç€ç‚¹æŒ‰ Google æ¥ç€ç‚¹æŒ‰ Google Chromeã€‚
å¯ç”¨å…è®¸ä¸‹è½½é™åˆ¶ã€‚
è®¾ç½®æ‰€éœ€çš„é€‰é¡¹ï¼š
æ— ç‰¹æ®Šé™åˆ¶
ç¦æ­¢æ‰€æœ‰ä¸‹è½½æ¶æ„è½¯ä»¶çš„æ“ä½œ
æ‹¦æˆªå±é™©ä¸‹è½½å†…å®¹
æ‹¦æˆªå¯èƒ½é€ æˆå±é™©çš„ä¸‹è½½å†…å®¹
æ‹¦æˆªæ‰€æœ‰ä¸‹è½½å†…å®¹
ä¸ºç”¨æˆ·éƒ¨ç½²æ”¿ç­–ã€‚
```





## é»˜è®¤ç³»ç»Ÿ

https://zhuanlan.zhihu.com/p/643184142



```

see python 3 summary.md -> Gradio -> compile -> vscode+gradio


wslconfig  /setdefault Ubuntu-20.04
	# é»˜è®¤å¯åŠ¨ 20.04
	# 20.04 ç”¨äºä¿®æ”¹ç¼–è¯‘ gradio, ç”Ÿæˆ gradio-xxx-py3-none-any.whl

wslconfig  /setdefault Ubuntu-22.04
	# é»˜è®¤å¯åŠ¨ 22.04
	# 22.04 ç”¨äº ä½¿ç”¨å®‰è£… gradio-xxx-py3-none-any.whl å¹¶æµ‹è¯•ï¼Œä»¥åŠå®é™…å¼€å‘
	
wsl --install -d Ubuntu-22.04
	# å†è£…ä¸€ä¸ª 22.04

ubuntu2204 config --default-user root
	# é»˜è®¤ä»¥ root ç™»å½•
	
```



##  wsl: æ£€æµ‹åˆ° localhost ä»£ç†



```
C:\Users\i\.wslconfig

[wsl2]
memory=4G
swap=2G
processors=2





# åŠ å…¥ä¸‹é¢ä»£ç†ä¼šæœ‰å¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜
localhostForwarding=true

[experimental]
autoMemoryReclaim=gradual  
networkingMode=mirrored
dnsTunneling=true
firewall=true
autoProxy=true

```



## wsl æ‰§è¡Œå‘½ä»¤

```
# see huggingface/Sakura_Launcher_GUI/readme.txt
# pyside6 linuxä¸­æ–‡ä¹±ç 
$OutputEncoding = [System.Text.Encoding]::UTF8
pyside2-uic.exe uiFile.ui | wsl ascii2uni -a U > ui_file.py 
    # éœ€è¦ç”¨ wsl æ¥è·‘
```



### å¼€æœºå¯åŠ¨è„šæœ¬

https://blog.csdn.net/popboy29/article/details/126854886

```
apt update && 
apt install cron && 
service cron start

crontab -e
@reboot  /root/run_pm2.sh

vi /root/run_pm2.sh
pm2 start pm2_proxynt_home_pc257.json


```



# Hyper-V è™šæ‹Ÿæœº

https://learn.microsoft.com/zh-cn/windows-server/virtualization/hyper-v/get-started/install-hyper-v?tabs=powershell&pivots=windows

```
Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Hyper-V -All



```





# choco

```
Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))
	# å®‰è£… chco

choco
	# æˆåŠŸæ‰§è¡Œ

choco install docker-desktop --upgrade --force
	# å¼ºåˆ¶æ›´æ–° docker


scoop update *


```



# windbg è°ƒè¯•

```

see csharp summary.md -> WPF -> RichTextBox åŸç”Ÿå‘½ä»¤ ->

_ToggleBullets

FlowDocument
    â”œâ”€â”€ Block (æ®µè½çº§å…ƒç´ )
    â”‚   â”œâ”€â”€ Paragraph
    â”‚   â”œâ”€â”€ Section
    â”‚   â”œâ”€â”€ List
    â”‚   â””â”€â”€ Table
    â””â”€â”€ Inline (è¡Œå†…å…ƒç´ )
        â”œâ”€â”€ Run (çº¯æ–‡æœ¬)
        â”œâ”€â”€ Span
        â”œâ”€â”€ Hyperlink
        â””â”€â”€ InlineUIContainer
     
wpf\src\Microsoft.DotNet.Wpf\src\PresentationFramework\System\Windows\Documents\TextEditorLists.cs

        internal static void _RegisterClassHandlers(Type controlType, bool registerEventListeners)
            CommandHelpers.RegisterCommandHandler(controlType, EditingCommands.ToggleBullets       , new ExecutedRoutedEventHandler(OnListCommand) , new CanExecuteRoutedEventHandler(OnQueryStatusNYI), KeyGesture.CreateFromResourceStrings(KeyToggleBullets, nameof(SR.KeyToggleBulletsDisplayString)));
	# åˆ‡æ¢é¡¹ç›®ç¬¦å·åº”è¯¥åœ¨ OnListCommand é‡Œå¤„ç†ï¼Ÿ

private static void OnListCommand(object target, ExecutedRoutedEventArgs args)
	ToggleBullets(thisSelection, parentListItem, immediateListItem, list);

dotnet tool install --global dotnet-debugger-extensions
	# å®‰è£… dotnet è°ƒè¯•æ’ä»¶

    # choco install winget
        # C:\ProgramData\chocolatey\lib\winget
            # è£…åˆ°è¿™é‡Œäº†
            # å®ƒåªæ˜¯ä¸€ä¸ªåŒ…ï¼Œæ ¹æœ¬ç”¨ä¸äº†
            
    # winget install Microsoft.WinDbg
        # Administrator è´¦æˆ·æ‰èƒ½æ‰¾åˆ° winget å‘½ä»¤
		# ä¹Ÿç”¨ä¸äº†
		
https://aka.ms/windbg/download
	# ä¸‹è½½åæˆåŠŸè¿è¡Œäº† 
```



## wxhelper

https://github.com/ttttupup/wxhelper



# Docker+Windows 2022

https://community.microfocus.com/cyberres/fortify/f/discussions/524702/docker-install-on-windows-server-2019

- è¿™æ‰æ˜¯æ­£ç¡®å®‰è£…æ–¹æ³•

https://blog.csdn.net/huanglu0314/article/details/129685114

https://www.cnblogs.com/shanyou/p/16413929.html

https://www.dell.com/support/kbdoc/en-us/000201261/docker-containers-on-windows-server-2022-101

```
2022 è‡ªå¸¦å®¹å™¨åŠŸèƒ½ï¼Œä¸è¦å®‰è£… Docker destop

1. æ·»åŠ è§’è‰²å’ŒåŠŸèƒ½ ->å¿…éœ€ä»ä¸Šå¾€ä¸‹ä¸€æ­¥æ­¥çš„ç‚¹ä¸‹å»(é»˜è®¤ä¸‹ä¸€æ­¥å°±å¯ä»¥) -> feature -> Contaner -> å®‰è£…å®ƒ

2. Powershell æ‰§è¡Œ

[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12
Install-PackageProvider -Name NuGet
Install-Module DockerMsftProvider -Force
Install-Package Docker -ProviderName DockerMsftProvider -Force
	# å‡ºé”™ï¼Œå› ä¸ºã€€Docker è¦ä»˜è´¹äº†
	
	
It is because Docker is now paid .. to install Docker community edition you can try the following in PowerShell as Administrator -


Install-WindowsFeature -Name Containers

Enable-WindowsOptionalFeature -Online -FeatureName containers -All

Install-Module -Name DockerMsftProvider -Repository PSGallery -Force

Invoke-WebRequest -UseBasicParsing "https://raw.githubusercontent.com/microsoft/Windows-Containers/Main/helpful_tools/Install-DockerCE/install-docker-ce.ps1" -o install-docker-ce.ps1

.\install-docker-ce.ps1


Invoke-WebRequest -UseBasicParsing "https://github.com/docker/compose/releases/latest/download/docker-compose-darwin-x86_64" -OutFile $env:SystemDirectory\docker-compose.exe

Restart-Computer



```





```
# windows server 2022

cd "C:\Program Files\Docker\Docker\"

& '.\Docker Desktop Installer.exe'
	# å¯åŠ¨å¤±è´¥
	empty package
   at Docker.Installer.InstallWorkflow.<DoProcessAsync>d__23.MoveNext()

"HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control"
ServicesPipeTimeout=dword:0000ea60


Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))
	# å®‰è£… chco

choco
	# æˆåŠŸæ‰§è¡Œ

choco install docker-desktop --upgrade --force
	# å¼ºåˆ¶æ›´æ–° docker
	# é‡å¯ç³»ç»Ÿï¼Œè¿è¡Œå‰é¢çš„å‘½ä»¤è™½ç„¶è¿˜å¼¹é”™ï¼Œä½†æ˜¯å¯ä»¥å¯åŠ¨ä¸é—ªé€€äº†
	
```



# .nuget å ç”¨ç©ºé—´è¿‡å¤§

https://blog.csdn.net/songhuangong123/article/details/139597164



# å®šæ—¶ä»»åŠ¡



```

# E:\huggingface\powershell\candy.ps1
candy --mode="client" --websocket="ws://xxx:1587" --password="xxx" --tun="10.0.0.2/24" --name="clien1" --stun="stun://stun.canets.org" --port=2587


schtasks /Create /SC MINUTE /MO 1 /TN "MyTask"  /RU SYSTEM  /TR "powershell.exe -ExecutionPolicy Bypass -File E:\huggingface\powershell\candy.ps1"
	# æ¯éš” 1 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡è„šæœ¬

schtasks /Delete /TN "MyTask" /F
	# åˆ é™¤ä»»åŠ¡

```







```
see nodejs summary.md -> æŠ±æŠ±è„¸

push.ps1
# æ¯æ¬¡éƒ½æ–°å»ºåˆ†æ”¯ï¼Œåˆ é™¤åŸåˆ†æ”¯ main, é‡å‘½ååˆ†æ”¯ï¼ˆé¿å… .git è¶…å¤§ï¼‰
cd E:\huggingface\pandoraNext
git checkout --orphan  new_branch
git add -A
git commit -am "m"
git branch -D main
git branch -m main
git push -f origin main
xcopy E:\Github\echodict\pandora\*.xlsx E:\huggingface\pandoraNext /k /e /d /Y
git lfs install
git add .
git commit -m 'm'
git lfs migrate import --everything
git push
	# æˆåŠŸ
	
schtasks /Create /SC MINUTE /MO 10 /TN "MyTask" /TR "powershell.exe -ExecutionPolicy Bypass -File E:\huggingface\push.ps1"
	# æ¯éš”ååˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡è„šæœ¬

schtasks /Delete /TN "MyTask" /F
	# åˆ é™¤ä»»åŠ¡


git pull && git LFS pull
	# æœ¬åœ°æ˜¯æ–‡ä»¶æŒ‡é’ˆæ—¶ï¼Œå¯ä»¥è¿™æ ·æ¢å¤æˆå®é™…æ–‡ä»¶

```





# è¿œç¨‹æ¡Œé¢ä¸€ç›´è¯·ç¨å

https://zhuanlan.zhihu.com/p/568825875

```
å¦‚æœä½ çš„ Windows è¿œç¨‹æ¡Œé¢åœ¨å°è¯•è¿æ¥æ—¶ä¸€ç›´å¡åœ¨â€œè¯·ç¨å€™â€ç•Œé¢ï¼Œå¯ä»¥å°è¯•ä»¥ä¸‹è§£å†³æ–¹æ³•ï¼š

### æ–¹æ³• 1ï¼šç¡®ä¿ç½‘ç»œè¿æ¥æ­£å¸¸
1. ç¡®è®¤å®¢æˆ·ç«¯è®¡ç®—æœºå’Œè¿œç¨‹æœåŠ¡å™¨éƒ½å·²è¿æ¥åˆ°ç½‘ç»œã€‚
2. æµ‹è¯•ä¸¤å°æœºå™¨ä¹‹é—´æ˜¯å¦å¯ä»¥äº’ç›¸ ping é€šã€‚
   - æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å¹¶æŒ‰ä¸‹å›è½¦ï¼š
```
     ping [è¿œç¨‹æœåŠ¡å™¨IPåœ°å€]
     ```
   - å¦‚æœæ— æ³• ping é€šï¼Œæ£€æŸ¥ç½‘ç»œé…ç½®ï¼ˆä¾‹å¦‚é˜²ç«å¢™æˆ–VPNï¼‰ã€‚

---

### æ–¹æ³• 2ï¼šé‡å¯è¿œç¨‹æ¡Œé¢æœåŠ¡
æœ‰æ—¶è¿œç¨‹æ¡Œé¢æœåŠ¡å¯èƒ½å‡ºç°é—®é¢˜ï¼Œå¯ä»¥å°è¯•åœ¨ç›®æ ‡è®¡ç®—æœºä¸Šé‡å¯è¿™é¡¹æœåŠ¡ï¼š
1. ç™»å½•åˆ°è¿œç¨‹è®¡ç®—æœºï¼ˆå¦‚æœå¯ä»¥é€šè¿‡å…¶ä»–é€”å¾„è®¿é—®ç›®æ ‡è®¡ç®—æœºï¼Œä¾‹å¦‚æ§åˆ¶å°æˆ–æ¡Œé¢çš„ç›´æ¥è®¿é—®ï¼‰ã€‚
2. æ‰“å¼€â€œè¿è¡Œâ€ï¼ˆå¿«æ·é”®ï¼šWin + Rï¼‰ï¼Œè¾“å…¥ `services.msc` å¹¶æŒ‰å›è½¦ã€‚
3. æ‰¾åˆ°ä»¥ä¸‹æœåŠ¡ï¼Œå¹¶æŒ‰é¡ºåºå³é”®ç‚¹å‡»`é‡å¯`ï¼š
   - **Remote Desktop Servicesï¼ˆè¿œç¨‹æ¡Œé¢æœåŠ¡ï¼‰**
   - **Remote Desktop Configurationï¼ˆè¿œç¨‹æ¡Œé¢é…ç½®ï¼‰**
   - **Remote Desktop UserMode Port Redirectorï¼ˆè¿œç¨‹æ¡Œé¢ç”¨æˆ·æ¨¡å¼ç«¯å£é‡å®šå‘å™¨ï¼‰**
4. é‡å¯åï¼Œé‡è¯•è¿œç¨‹è¿æ¥ã€‚

---

### æ–¹æ³• 3ï¼šæ£€æŸ¥é˜²ç«å¢™è®¾ç½®
1. ç¡®ä¿é˜²ç«å¢™æ²¡æœ‰é˜»æ­¢ RDPï¼ˆè¿œç¨‹æ¡Œé¢åè®®ï¼‰çš„é€šä¿¡ï¼š
   - æ‰“å¼€â€œWindows é˜²ç«å¢™â€ï¼Œåœ¨å·¦ä¾§é€‰æ‹©â€œå…è®¸åº”ç”¨æˆ–åŠŸèƒ½é€šè¿‡ Windows Defender é˜²ç«å¢™â€ã€‚
   - ç¡®ä¿â€œè¿œç¨‹æ¡Œé¢â€å·²å¯ç”¨ã€‚
2. æ£€æŸ¥æ˜¯å¦å·²å¯ç”¨ç«¯å£ `3389`ï¼š
   - æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š
     ```
     netstat -an | find "3389"
     ```
   - å¦‚æœæ²¡æœ‰ç›‘å¬`3389`ç«¯å£ï¼Œå¯èƒ½æ˜¯è¿œç¨‹æ¡Œé¢æœåŠ¡æœªæ­£å¸¸å¯ç”¨ã€‚

---

### æ–¹æ³• 4ï¼šæ£€æŸ¥è¿œç¨‹æ¡Œé¢è®¾ç½®
1. åœ¨ç›®æ ‡è®¡ç®—æœºä¸Šï¼š
   - æ‰“å¼€â€œè¿è¡Œâ€ï¼ˆWin + Rï¼‰ï¼Œè¾“å…¥ `sysdm.cpl`ã€‚
   - åˆ‡æ¢åˆ°â€œè¿œç¨‹â€é€‰é¡¹å¡ã€‚
   - ç¡®è®¤â€œå…è®¸è¿œç¨‹è¿æ¥åˆ°æ­¤è®¡ç®—æœºâ€å·²è¢«é€‰ä¸­ã€‚
   - æ£€æŸ¥æ˜¯å¦åªå…è®¸â€œä½¿ç”¨ç½‘ç»œçº§åˆ«èº«ä»½éªŒè¯çš„è¿œç¨‹æ¡Œé¢â€ï¼ˆNLAï¼‰ï¼Œå¦‚æœæ˜¯ï¼Œç¡®ä¿å®¢æˆ·ç«¯ä¹Ÿæ”¯æŒ NLAã€‚
2. æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æ‹¥æœ‰è¿œç¨‹ç™»å½•æƒé™ï¼š
   - è¿”å›â€œè¿œç¨‹â€é€‰é¡¹å¡ï¼Œç‚¹å‡»â€œé€‰æ‹©ç”¨æˆ·â€ã€‚
   - ç¡®ä¿ç™»å½•è¿œç¨‹æ¡Œé¢çš„ç”¨æˆ·è¢«æ·»åŠ åˆ°åˆ—è¡¨ä¸­ã€‚

---

### æ–¹æ³• 5ï¼šè°ƒæ•´æ³¨å†Œè¡¨é¡¹
1. æŒ‰ `Win + R` æ‰“å¼€è¿è¡Œæ¡†ï¼Œè¾“å…¥ `regedit` ç„¶åç‚¹å‡»å›è½¦ã€‚
2. è¿›å…¥ä»¥ä¸‹è·¯å¾„ï¼Œæ£€æŸ¥ç›¸å…³é…ç½®é¡¹ï¼š
   ```
   HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\Terminal Server
   ```
3. ç¡®ä¿ä»¥ä¸‹é”®å€¼è®¾ç½®æ­£ç¡®ï¼š
   - `fDenyTSConnections` çš„å€¼ä¸º `0`ï¼ˆè¡¨ç¤ºå…è®¸è¿œç¨‹æ¡Œé¢è¿æ¥ï¼‰ã€‚
   - `LogonTimeout` è®¾ç½®ä¸ºä¸€ä¸ªè¶³å¤Ÿå¤§çš„å€¼ï¼ˆå•ä½æ˜¯ç§’ï¼Œé»˜è®¤ä¸º60ç§’ï¼‰ã€‚

---

### æ–¹æ³• 6ï¼šè¿œç¨‹æ¡Œé¢è¿æ¥å®¢æˆ·ç«¯è®¾ç½®
1. å…³é—­â€œæ‰“å¼€è¿œç¨‹æ¡Œé¢â€æ—¶çš„æœ¬åœ°èµ„æºé‡å®šå‘åŠŸèƒ½ï¼ˆå¦‚ç¡¬ç›˜ã€æ‰“å°æœºã€å‰ªè´´æ¿ç­‰ï¼‰ï¼š
   - åœ¨è¿œç¨‹æ¡Œé¢è¿æ¥å·¥å…·ä¸­ï¼Œç‚¹å‡»â€œæ˜¾ç¤ºé€‰é¡¹â€ â†’ åˆ‡æ¢åˆ°â€œæœ¬åœ°èµ„æºâ€é€‰é¡¹å¡ã€‚
   - å–æ¶ˆå‰ªè´´æ¿å…±äº«ã€æ‰“å°æœºé‡å®šå‘ç­‰ã€‚
2. åœ¨â€œä½“éªŒâ€é€‰é¡¹å¡ä¸­ï¼Œå°†è¿æ¥é€Ÿåº¦è°ƒä½ï¼Œå–æ¶ˆç‰¹æ•ˆåŠŸèƒ½ã€‚

---

### æ–¹æ³• 7ï¼šç³»ç»Ÿæ›´æ–°å’Œé‡å¯
1. ç¡®ä¿ç›®æ ‡è®¡ç®—æœºå’Œå®¢æˆ·ç«¯çš„ Windows ç³»ç»Ÿæ˜¯æœ€æ–°ç‰ˆæœ¬ã€‚
2. å¦‚æœä»¥ä¸Šæ–¹æ³•æ— æ³•è§£å†³é—®é¢˜ï¼Œå¯ä»¥å…ˆå°è¯•é‡å¯ç›®æ ‡è®¡ç®—æœºã€‚

---

### å…¶ä»–æƒ…å†µ
å¦‚æœä¾ç„¶å¡åœ¨â€œè¯·ç¨å€™â€ç•Œé¢ï¼Œå¯èƒ½å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š
- ç”¨æˆ·ä¼šè¯æœªæ­£ç¡®æ³¨é”€ã€‚
- ç³»ç»Ÿèµ„æºä¸è¶³ï¼ˆä¾‹å¦‚å†…å­˜æˆ– CPU å·²è¾¾åˆ°ç“¶é¢ˆï¼‰ã€‚
- ç³»ç»Ÿå‡ºç°è¿è¡Œé”™è¯¯æˆ–æ–‡ä»¶æŸåï¼Œå¯ä»¥å°è¯•ä½¿ç”¨ `sfc /scannow` ä¿®å¤ç³»ç»Ÿæ–‡ä»¶ã€‚

å¦‚æœé—®é¢˜ä»æœªè§£å†³ï¼Œè¯·è¯¦ç»†æè¿°ç½‘ç»œç¯å¢ƒï¼ˆå¦‚æ˜¯å¦é€šè¿‡ VPN æˆ–å…¬ç½‘IPè¿æ¥ï¼‰å’Œå…·ä½“é”™è¯¯æç¤ºï¼Œä»¥ä¾¿è¿›ä¸€æ­¥æ’æŸ¥ã€‚
```







# IPV6 è¿œç¨‹æ¡Œé¢

https://zhuanlan.zhihu.com/p/627542501



# å†…ç½‘ç©¿é€

### frp windowsè¿œç¨‹æ¡Œé¢

[ä½¿ç”¨frpå®ç°windowsè¿œç¨‹æ¡Œé¢è¿æ¥](https://blog.ligengxin.me/posts/frp-windows-remote/) [s](https://github.com/fatedier/frp/releases/download/v0.51.3/frp_0.51.3_linux_amd64.tar.gz) [c](https://github.com/fatedier/frp/releases/download/v0.51.3/frp_0.51.3_windows_amd64.zip)

[Frp-notes](https://github.com/onekb/Frp-notes)



```
# æœåŠ¡ç«¯é…ç½®
frps.ini
[common]
bind_port = 7000 # æœåŠ¡å™¨ç«¯å£ å®¢æˆ·ç«¯å¿…é¡»é…ç½®ä¸€æ ·çš„ç«¯å£
vhost_http_port = 8880
	# 8880 æ˜¯å®¢æˆ·ç«¯ api æ¥å£

# å®¢æˆ·ç«¯é…ç½®
frpc.ini 
[common]
server_addr = æœåŠ¡å™¨ip
server_port = 7000
[web]
type = http
local_port = 8880
custom_domains = æœåŠ¡å™¨ip
	# æ²¡æœ‰åŸŸåè¿™é‡Œå°±å¡«æœåŠ¡å™¨ip

å®æµ‹ http://xxx.77:8880/searchExcel èƒ½æ­£å¸¸è®¿é—®åˆ°å†…ç½‘çš„æœåŠ¡
	


[ssh]
type = tcp
local_ip = 127.0.0.1
local_port = 3389  # è¿œç¨‹æ¡Œé¢ç«¯å£
remote_port = 7004 #è¿™ä¸ªæ˜¯è¿œç¨‹æ¡Œé¢è¿æ¥ä¸»æœºçš„æ—¶å€™è¾“å…¥çš„ipååŠ ä¸Šçš„ç«¯å£

# æˆ–è€…è¿™æ ·
[RDP]
type = tcp
local_ip = 127.0.0.1
local_port = 3389
remote_port = 7004

# æˆ–ç€å¼€æ”¾ http ç«¯å£
[web]
type = http
local_port = 8880
custom_domains = 127.0.0.1
	# æ²¡æœ‰åŸŸåå°±å…ˆè¿™æ ·



# å¯åŠ¨æœåŠ¡ç«¯
./frps -c ./frps.ini

# å¯åŠ¨å®¢æˆ·ç«¯
./frpc -c frpc.ini


# å®¢æˆ·ç«¯å¼€æœºè‡ªå¯ frp 
C:\ProgramData\Microsoft\Windows\Start Menu\Programs\StartUp ç›®å½•ä¸‹å†™ä¸€ä¸ªbatæ–‡ä»¶

cmd /k "cd /d D:\Downloads\frp_0.33.0_windows_amd64 && frpc -c frpc.ini"  


# é™é»˜åå°è¿è¡Œ
+@echo off
+if "%1" == "h" goto begin
+mshta vbscript:createobject("wscript.shell").run("%~nx0 h",0)(window.close)&&exit
+:begin
cmd /k "cd /d D:\Downloads\frp_0.33.0_windows_amd64 && frpc -c frpc.ini"


Windows 10/11 ç³»ç»Ÿæ˜¯å¯ä»¥å¼€å¯ openssh server çš„ã€‚



```







## 





### frp linux ssh

[safe](https://juejin.cn/post/7130640908298485768) [2](https://scarletf.github.io/2021/02/01/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F-FRP%E4%BB%A3%E7%90%86%E9%93%BE/)

```
wget https://github.com/fatedier/frp/releases/download/v0.52.3/frp_0.52.3_linux_amd64.tar.gz && \
tar xvf frp_0.52.3_linux_amd64.tar.gz && \
cd frp_0.52.3_linux_amd64

# æœåŠ¡ç«¯é…ç½®
vi frps.ini
[common]
bind_port = 7000 # æœåŠ¡å™¨ç«¯å£ å®¢æˆ·ç«¯å¿…é¡»é…ç½®ä¸€æ ·çš„ç«¯å£

./frps -c frps.ini


# å®¢æˆ·ç«¯é…ç½®
vi frpc.ini 
[common]
server_addr = æœåŠ¡å™¨ip
server_port = 7000
[ssh]
type = tcp
local_ip = 127.0.0.1
local_port = 22
remote_port = 222 #è¿™ä¸ªæ˜¯è¿œç¨‹ ssh è¿æ¥ä¸»æœºçš„æ—¶å€™è¾“å…¥çš„ipååŠ ä¸Šçš„ç«¯å£

./frpc -c frpc.ini

ssh root@æœåŠ¡å™¨ip:222
	# è¿™æ ·è¿å†…ç½‘æœºå™¨


# é˜²æ–­ï¼Œæœå®¢ä¸¤ç«¯éƒ½è¦è®¾ç½®
ä¿®æ”¹ /etc/ssh/sshd_config ï¼ŒClientAliveInterval 30 ï¼ŒClientAliveCountMax 3.
é‡å¯ sshd æœåŠ¡ï¼Œsystemctl restart sshd
é€€å‡ºé‡æ–°ç™»å½• ssh


æˆ‘ä¹Ÿä¸€ç›´ç”¨ frp æ¥è¿å…¬å¸ç”µè„‘ï¼Œæˆ‘çœŸå¿ƒåŠä½ ç”¨ stcp æ–¹å¼å§ï¼Œä¸è¦å«Œéº»çƒ¦ï¼Œå®‰å…¨æ¯”è¾ƒé‡è¦ï¼Œé…ç½®å‚è€ƒï¼š
â€‹```
[common]
server_addr = xxx.com
server_port = 8888
token = xxxxxxxx

## è¢«è®¿é—®ç«¯
[secret_rdp]
type = stcp
# åªæœ‰ sk ä¸€è‡´çš„ç”¨æˆ·æ‰èƒ½è®¿é—®åˆ°æ­¤æœåŠ¡
sk = xxxxxxx
local_ip = 127.0.0.1
local_port = 3389

## è®¿é—®ç«¯
[secret_rdp_visitor]
type = stcp
# stcp çš„è®¿é—®è€…
role = visitor
# è¦è®¿é—®çš„ stcp ä»£ç†çš„åå­—
server_name = secret_rdp
sk = xxxxxxx
# ç»‘å®šæœ¬åœ°ç«¯å£ç”¨äºè®¿é—® SSH æœåŠ¡
bind_addr = 127.0.0.1
bind_port = 13389
â€‹```


```







# ISOä¸‹è½½

ä¸è¦ä»å®˜ç½‘ä¸‹isoï¼Œè¯„ä¼°ç‰ˆéš”æ®µæ—¶é—´è‡ªåŠ¨å…³æœº



## win11

[ä¸‹è½½](https://www.microsoft.com/en-us/software-download/windows11)



```
Get-FileHash C:\Users\Administrator\Downloads\Win11_23H2_Chinese_Simplified_x64v2.iso

Chinese Simplified 64-bit	953F9ECD3307A92FB5DAF12E3FE05603FE63181F6ABC0B08B42E632E09510E39


```



## å¯åŠ¨Uç›˜

[ventoy](https://www.ventoy.net/cn/index.html)

[Rufus](https://github.com/pbatard/rufus/releases)





```
# è¶…çº§ç®¡ç†å‘˜

net user administrator /active:yes

```



```
æ™®å˜è¶…ï¼š
ç™»é™†å…¶ä»–ç®¡ç†å‘˜è´¦å·åï¼Œé¼ æ ‡å³å‡»å¼€å§‹èœå•-----è¿è¡Œï¼Œè¾“å…¥ï¼š
netplwiz
å›è½¦ï¼ŒåŒå‡»éœ€è¦æ›´æ”¹çš„ç”¨æˆ·ï¼Œåˆ‡æ¢åˆ°â€œç»„æˆå‘˜â€ï¼Œé€‰æ‹©â€œæ ‡å‡†ç”¨æˆ·â€ã€‚
å†…ç½®çš„administratorè´¦å·ï¼Œè¯·å‹¿æ›´æ”¹ã€‚
```



# åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£

```
Ctrl+Shiftï¼Œç„¶åå³å‡»é¼ æ ‡ -> åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£
```





# ç¦ä¸Šè¿è¡Œè„šæœ¬

```

npm install cnpm@7.1.0 -g --registry=https://registry.npm.taobao.org
	# é…å¥— node14 ok
	# npm config set strict-ssl false
		# è¯ä¹¦é”™è¯¯è¯•è¯•ï¼Ÿ
	# Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
		# ç¦æ­¢è¿è¡Œè„šæœ¬è¯•è¯•è¿™ä¸ª


npm install -g cnpm --registry=https://registry.npm.taobao.org
	# å®‰è£…æ˜¯æœ€æ–°ç‰ˆ ä¼šæœ‰å…¼å®¹é—®é¢˜
```





# å¼€å¯å¤§å°å†™æ•æ„Ÿ

```
fsutil file setCaseSensitiveInfo è·¯å¾„ enable
	# åªé’ˆå¯¹è¿™ä¸ªè·¯å¾„å¼€å¯

git config --global core.ignorecase false


```





# æ¿€æ´»

```
irm https://massgrave.dev/get | iex
  # win11 æˆåŠŸ

slmgr /skms kms.03k.org
slmgr /ato
  # å¥½åƒå¤±æ•ˆäº†

```



# å¸è½½

[uninstall](https://kerrynotes.com/battle-net-stuck-in-updating/)

```
ï¼ˆ1ï¼‰é¦–å…ˆæŠŠAgent.exeè¿™ä¸ªè¿›ç¨‹å…³æ‰ï¼›

ï¼ˆ2ï¼‰ç„¶åå»æ³¨å†Œè¡¨ä¸Šåˆ é™¤è®¡ç®—æœº\HKEY_CURRENT_USER\SOFTWARE\Blizzard Entertainment\Launcherå³å¯ï¼ˆæŠŠè®¡ç®—æœºä¸Šæœç´¢å‡ºæ¥çš„Blizzardæ–‡ä»¶å¤¹åˆ é™¤ä¹Ÿè¡Œï¼‰ã€‚

è¿›å…¥ C:\ProgramData\Battle.net\Agent ç›®å½•ï¼ŒæŠŠä¿®æ”¹æ—¶é—´æœ€æ–°çš„é‚£ä¸ªæ–‡ä»¶å¤¹åˆ é™¤Agent.8022ï¼Œåœ¨å¯åŠ¨æˆ˜ç½‘ï¼Œç¬é—´å¯åŠ¨æˆåŠŸäº†
```



# å­˜æ¡£ä½ç½®

```
C:\Users\(UserName)\AppData\Roaming\ã‚ã–ã‚‰ã—ããµã¨\ã‚¢ãƒã‚«ãƒ2\savegen.dat

```



# å…³é—­é˜²ç«å¢™

```
Set-NetFirewallProfile -Profile Domain -Enabled False
Set-NetFirewallProfile -Profile Private -Enabled False
Set-NetFirewallProfile -Profile Public -Enabled False
```







# å…³é—­ç—…æ¯’é˜²æŠ¤

https://github.com/ionuttbara/windows-defender-remover  å¼€æºå·¥å…·

```
Remove-WindowsFeature Windows-Defender

```







# ç¦æ­¢è‡ªåŠ¨æ›´æ–°

```
æ›´æ–°æš‚åœ 3000 å¤©
reg add "HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\WindowsUpdate\UX\Settings" /v FlightSettingsMaxPauseDays /t reg_dword /d 3000 /f
```



```
ä¿®æ”¹ç³»ç»Ÿæ—¶é—´åˆ° 2050 å¹´ï¼Œç„¶ååœ¨æ›´æ–°ç•Œé¢ï¼Œç‚¹å‡»æ¨è¿Ÿ 2 å‘¨æ›´æ–°ï¼Œå®Œäº‹ï¼Œä¸‹æ¬¡æ›´æ–°å°±å˜æˆ 2050 å¹´äº†ï¼Œ
```



# å¼€å¯è‡ªåŠ¨æ›´æ–°

```
æŒ‰Windows+Rè¾“å…¥services.mscæ‰“å¼€ä¹‹åæ‰¾åˆ°Windows Updateæ˜¯å¦å¼€å¯äº†å‘¢ï¼Ÿ

æŒ‰Windows+Rè¾“å…¥gpedit.mscæ‰“å¼€ç»„ç­–ç•¥ï¼Œåœ¨å·¦ä¾§é€‰ç”¨æˆ·é…ç½®â€”ç®¡ç†æ¨¡æ¿â€”Windowsç»„ä»¶â€”Windows Updateâ€”åœ¨å³ä¾§é€‰â€œåˆ é™¤ä½¿ç”¨æ‰€æœ‰Windows UpdateåŠŸèƒ½çš„è®¿é—®â€åŒå‡»å®ƒï¼Œåœ¨æ‰“å¼€çš„å¯¹è¯æ¡†ä¸­é€‰æ‹©â€œå·²å¯ç”¨â€ç„¶åæŒ‰åº”ç”¨ç¡®å®šï¼Œé‡å¯ç”µè„‘å³å¯ã€‚
```



https://www.zhihu.com/tardis/sogou/art/534272780



# ç¦æ­¢ç«ç»’è‡ªå¯

[ç¦æ­¢ç«ç»’è‡ªå¯](https://www.bilibili.com/read/cv23414303)

åªåœ¨éœ€è¦çš„æ—¶ä¾¯æ‰‹åŠ¨æ‰“å¼€ï¼Œç”¨å®ƒçš„å°å·¥å…·ã€‚å¹³æ—¶ç”¨å¡å·´

1. ç«ç»’å‰‘å…³é—­ç«ç»’è‡ªå¯

2. è¿›å®‰å…¨æ¨¡å¼ï¼ŒæŒ‰winé”® -> è¾“å…¥ser æ‰¾åˆ°"æœåŠ¡" -> æ‰¾åˆ°ç«ç»’æŠŠæ‰€æœ‰æœåŠ¡æ”¹æˆ "æ‰‹åŠ¨" 



æˆ–è€…ï¼šå¼€å§‹-ç”µæºæŒ‰é’®ï¼ŒæŒ‰ä½ShiftåŒæ—¶ç‚¹å‡»â€œé‡å¯â€ï¼Œç„¶åWin10ä¼šè‡ªåŠ¨è¿›å…¥é«˜çº§å¯åŠ¨èœå•ï¼Œå†ç‚¹å‡»ç–‘éš¾è§£ç­”-é«˜çº§é€‰é¡¹-å¯åŠ¨è®¾ç½®-é‡å¯ã€‚



# server 2016 å…³é—­è‡ªåŠ¨é˜²æŠ¤

```
gpedit.msc -> è®¡ç®—æœºé…ç½® -> ç®¡ç†æ¨¡æ¿ -> Windowsç»„ä»¶ -> Windows Defender -> å…³é—­Windows Defender åŒå‡»æ‰“å¼€ 

æœ‰ä¸¤ä¸ªé€‰é¡¹ å…³é—­é˜²æŠ¤ã€å…³é—­å®æ—¶é˜²æŠ¤ éƒ½è®¾ä¸º enable

```







# æ‰¾å›ä¼‘çœ åŠŸèƒ½



```
# ç®¡ç†å‘˜è¿è¡Œ powershell
powercfg -h on

ç”µæºå’Œç¡çœ  ->å…¶ä»–ç”µæºè®¾ç½® -> æ›´æ”¹å½“å‰ä¸å¯ç”¨è®¾ç½® -> é€‰æ‹©ç”µæºæŒ‰é’®çš„åŠŸèƒ½

```



# è¿œç¨‹å”¤é†’

https://www.jb51.net/os/win11/911788.html

https://zhuanlan.zhihu.com/p/52607752

```
å°ç±³æ™ºèƒ½æ’åº§+BIOSè®¾ç½®Restore after AC Power Lossã€‚ç„¶ååœ¨ç±³å®¶APPé‡Œæ‰“å¼€å°±å¼€æœºäº†ï¼Œè¿˜èƒ½çœ‹ç”¨äº†å¤šå°‘åº¦ç”µ

```





# ç£ç›˜ç®¡ç†å·¥å…·

```
diskmgmt.msc
```



## linux æŒ‚è½½ç£ç›˜æƒé™é”™è¯¯



```


# æ‰“å¼€å›æ”¶ç«™

```
start shell:RecycleBinFolder
	# ps è¿è¡Œ
```





# ç£ç›˜åœ¨ linux æŒ‚è½½ä¸‹æœ‰æƒé™é”™è¯¯, windows è°ƒæ•´åˆ†åŒºå¤§å°å‡ºé”™

chkdsk /f E:
	# windows ä¸‹æ‰§è¡Œ
```





# ext4 é©±åŠ¨ for windows

[Ext4Fsd](https://github.com/bobranten/Ext4Fsd)

[linuxfs-windows æ”¶è´¹](https://www.paragon-software.com/home/linuxfs-windows/)

```

Linux File Systems for Windows by Paragon Software

key: see echodict/README.md 

```





# WSLå®‰è£…å‡ºé”™

[å…³é—­Hyper-V](https://www.ubackup.com/enterprise-backup/disable-hyper-v.html) å¹¶æ²¡æœ‰å¼€



windows server 2022 å®‰è£… wsl --install å‡ºé”™

- Press **â€˜Win + Râ€™** keys on the keyboard together to open the Run dialog box and type the following into the run box: **REGEDIT**

- Navigate to the following registry key:

  **HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\LxssManager**

- On the right pane, locate **Start** and set the **Value Data** to **2.**

- Exit **REGEDIT**, and reboot the machine to see if it works.

```
Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux

wsl --install -d Ubuntu
```





# å®‰è£… FTP 

[window server 2022 æ­å»ºFTPæœåŠ¡å™¨](https://zhuanlan.zhihu.com/p/622408091)

[å¼€å¯æœåŠ¡è®¾ç½®ç«¯å£é˜²ç«å¢™](https://www.vdtutorials.com/install-and-configure-ftp-server-on-windows-server-2022/)

[ç”¨æˆ·å_FTPç«™ç‚¹](https://cloudinfrastructureservices.co.uk/how-to-setup-ftp-server-using-iis-on-windows-server-2022/)



# App Installer

[installing App Installer (winget) on Windows Server 2022](https://gist.github.com/carey/62070ee199099c4233f572a17315366d)

[winget-and-appinstaller](https://www.andreasnick.com/112-install-winget-and-appinstaller-on-windows-server-2022.html)

[Windows Serverå®‰è£…Microsoft Storeçš„åº”ç”¨ ](https://www.cnblogs.com/cqpanda/p/16650721.html)

```

wsl --install

winget search alma
-->AlmaLinux 9  9P5RWLM70SN9  Unknown  msstore
   AlmaLinux 8 WSL  9NMD96XJJ19F  Unknown  msstore

winget install 9NMD96XJJ19F
	# æ²¡æœ‰æˆåŠŸï¼Œé—ªé€€äº†

```



```
Windows Server 2022 æ— æ³•æ­£å¸¸ä½¿ç”¨ Microsoft Store ä¸‹è½½åº”ç”¨ç¨‹åºã€‚

æ‚¨å¯ä»¥å°è¯•ä»¥ä¸‹æ–¹æ¡ˆè¿›è¡Œæ“ä½œï¼Œçœ‹çœ‹æ˜¯å¦å¯è¡Œï¼š

è®¾ç½®>>åº”ç”¨>>åº”ç”¨å’ŒåŠŸèƒ½>>æ‰¾åˆ°åº”ç”¨å•†åº—>>é«˜çº§é€‰é¡¹>>é‡ç½®ã€‚

 

å¦å¤–ï¼Œæ‚¨è¿˜å¯ä»¥å°è¯•æ¸…ç†åº”ç”¨å•†åº—çš„ç¼“å­˜ï¼Œçœ‹çœ‹æ˜¯å¦å¯ä»¥æ¢å¤æ­£å¸¸ï¼š

 

æŒ‰â€œWin+Râ€é”®ï¼Œåœ¨è¿è¡Œçª—å£ä¸­ï¼Œé”®å…¥ WSReset.exeå¹¶ç‚¹å‡»â€œ è¿è¡Œ â€ã€‚

 

å¦‚æœé—®é¢˜ä¾æ—§ï¼Œå»ºè®®æ‚¨å°è¯•ä»¥ä¸‹æ–¹æ¡ˆé‡æ–°éƒ¨ç½²æ‚¨çš„åº”ç”¨å•†åº—ï¼š

 

åœ¨æ‰“å¼€çš„â€œç®¡ç†å‘˜ï¼šWindows Powershellâ€çª—å£ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š

 

get-appxpackage *store* | remove-Appxpackage

 

å†æ¬¡å®‰è£…ï¼š

 

add-appxpackage -register "C:\Program Files\WindowsApps\*Store*\AppxManifest.xml" -disabledevelopmentmode


å®Œæˆåé‡å¯æ‚¨çš„ Microsoft Store ï¼Œçœ‹çœ‹æ˜¯å¦å¯ä»¥æ­£å¸¸ä¸‹è½½å®‰è£…åº”ç”¨ç¨‹åºã€‚
```







# windows Long path

1. Open the Start menu and type â€œregedit.â€ Launch the application.
2. Navigate to `HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\FileSystem`
3. Right-click the value â€œLongPathsEnabledâ€ and select Modify.
4. Change â€œValue dataâ€ from 0 to 1.
5. Click OK.



# å¤„ç†è·¯å¾„

- https://blog.csdn.net/zeqi1991/article/details/110531406

```

	#include <Shlwapi.h>
	#pragma comment(lib, "shlwapi.lib")
	
	//å»é™¤è·¯å¾„çš„å‚æ•°
	PathRemoveArgs
	//å»é™¤è·¯å¾„æœ€åçš„åæ–œæ â€\â€
	PathRemoveBackslash
	//åœ¨è·¯å¾„æœ€ååŠ ä¸Šåæ–œæ â€\â€
	PathAddBackslash
	//å»é™¤è·¯å¾„å‰åçš„ç©ºæ ¼
	PathRemoveBlanks
	//åœ¨æ–‡ä»¶è·¯å¾„åé¢åŠ ä¸Šæ‰©å±•å
	PathAddExtension
	//å»é™¤æ–‡ä»¶è·¯å¾„æ‰©å±•å
	PathRemoveExtension
	//æ›´æ”¹æ–‡ä»¶è·¯å¾„æ‰©å±•å
	PathRenameExtension
	//å»é™¤æ–‡ä»¶å,å¾—åˆ°ç›®å½•
	PathRemoveFileSpec
	//å»é™¤è·¯å¾„ä¸­çš„é¦–å°¾ç©ºæ ¼
	PathUnquoteSpaces
	//åˆ¤æ–­è·¯å¾„ä¸­æ˜¯å¦æœ‰ç©ºæ ¼,æœ‰çš„è¯,å°±æ˜¯ç”¨â€â€œå¼•å·æŠŠæ•´ä¸ªè·¯å¾„åŒ…å«èµ·æ¥
	PathQuoteSpaces
	//å°†ä¸€ä¸ªè·¯å¾„è¿½åŠ åˆ°å¦ä¸€ä¸ªè·¯å¾„åé¢
	PathAppend
	//åˆå¹¶ä¸¤ä¸ªè·¯å¾„
	PathCombine
	//å»æ‰è·¯å¾„ä¸­çš„ç£ç›˜ç¬¦æˆ–UNCéƒ¨åˆ†
	PathSkipRoot
	//å»æ‰è·¯å¾„ä¸­çš„ç›®å½•éƒ¨åˆ†,å¾—åˆ°æ–‡ä»¶å
	PathStripPath
	//å»æ‰è·¯å¾„çš„æ–‡ä»¶éƒ¨åˆ†,å¾—åˆ°æ ¹ç›®å½•
	PathStripToRoot
	//æ ¹æ®åƒç´ å€¼ç”Ÿæˆç¬¦åˆé•¿åº¦çš„è·¯å¾„
	PathCompactPath
	//å¦‚åŸå§‹è·¯å¾„: C:\path1\path2\sample.txt
	//æ ¹æ®120åƒç´ æˆªæ–­åä¸º: C:\patâ€¦\sample.txt
	//æ ¹æ®25åƒç´ æˆªæ–­åä¸º: â€¦\sample.txt
	//æ ¹æ®å­—ç¬¦ä¸ªæ•°æ¥ç”Ÿæˆç¬¦åˆé•¿åº¦çš„è·¯å¾„
	PathCompactPathEx
	//å°†è·¯å¾„æ•°æ®è®¾ç½®åˆ°å¯¹è¯æ¡†çš„å­æ§ä»¶ä¸Š
	PathSetDlgItemPath
	//å»é™¤è·¯å¾„ä¸­çš„ä¿®é¥°
	PathUndecorate
	//å°†è·¯å¾„ä¸­éƒ¨åˆ†æ•°æ®æ›¿æ¢ä¸ºç³»ç»Ÿç¯å¢ƒå˜é‡æ ¼å¼
	PathUnExpandEnvStrings
	//ä»è·¯å¾„ä¸­æŸ¥æ‰¾è·¯å¾„
	PathFindOnPath
	//æŸ¥æ‰¾è·¯å¾„çš„æ‰©å±•å
	PathFindExtension
	//è·å–è·¯å¾„çš„æ–‡ä»¶å
	PathFindFileName
	//æŸ¥æ‰¾åŒ¹é…è·¯å¾„
	PathFindNextComponent
	//æŸ¥æ‰¾ç»™å®šçš„æ–‡ä»¶åæ˜¯å¦æœ‰ç»™å®šçš„åç¼€
	PathFindSuffixArray
	//è·å–è·¯å¾„å‚æ•°
	PathGetArgs
	//è·å–è·¯å¾„å­—ç¬¦ç±»å‹
	PathGetCharType
	//æ ¹æ®é€»è¾‘ç›˜ç¬¦è¿”å›é©±åŠ¨å™¨åºå·
	PathGetDriveNumber
	//åˆ›å»ºä¸€ä¸ªè·¯å¾„åˆ°å¦ä¸€ä¸ªè·¯å¾„çš„ç›¸å¯¹è·¯å¾„ã€‚
	PathRelativePathTo
	//å°†ä¸€ä¸ªç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„è½¬æ¢ä¸ºä¸€ä¸ªåˆæ ¼çš„è·¯å¾„
	PathResolve
	//è§„èŒƒåŒ–è·¯å¾„ã€‚å°†æ ¼å¼æ¯”è¾ƒä¹±çš„è·¯å¾„æ•´ç†æˆè§„èŒƒçš„è·¯å¾„æ ¼å¼
	PathCanonicalize
	//æ ¹æ®ç»™å®šçš„ç£ç›˜åºå·åˆ›å»ºæ ¹ç›®å½•è·¯å¾„
	PathBuildRoot
	//åˆ›å»ºç›®å½•
	CreateDirectory
	//å°†é•¿è·¯å¾„è½¬ä¸º8.3æ ¼å¼çš„çŸ­è·¯å¾„æ ¼å¼
	GetShortPathName
	//å°†çŸ­è·¯å¾„æ ¼å¼è½¬ä¸ºé•¿è·¯å¾„ã€‚
	GetLongPathName
	//å°†é•¿è·¯å¾„è½¬ä¸ºçŸ­è·¯å¾„æ ¼å¼ï¼ˆ8.3æ ¼å¼ï¼‰
	PathGetShortPath
	//å°†URLè·¯å¾„è½¬ä¸ºMS-DOSæ ¼å¼
	PathCreateFromUrl
	//æŠŠè·¯å¾„å…¨éƒ¨è½¬ä¸ºå°å†™,å¢åŠ å¯è¯»æ€§
	PathMakePretty
	//ç»™è·¯å¾„å¢åŠ ç³»ç»Ÿå±æ€§
	PathMakeSystemFolder
	//å»é™¤è·¯å¾„ä¸­çš„ç³»ç»Ÿå±æ€§
	PathUnmakeSystemFolder
	//ä»æ¨¡æ¿åˆ›å»ºç»Ÿä¸€çš„è·¯å¾„æ ¼å¼
	PathMakeUniqueName
	//ç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œçš„è·¯å¾„,æ¯”å¦‚æœ‰å‚æ•°çš„,ä¼šè‡ªåŠ¨å°†è·¯å¾„ç”¨â€â€œåŒ…å«
	PathProcessCommand
	//å»é™¤è·¯å¾„ä¸­ä¸åˆæ³•çš„å­—ç¬¦
	PathCleanupSpec
	//æ¯”è¾ƒå¹¶æå–ä¸¤ä¸ªè·¯å¾„ç›¸åŒçš„å‰ç¼€
	PathCommonPrefix
	//éªŒè¯è·¯å¾„æ˜¯å¦å­˜åœ¨
	PathFileExists
	//åˆ¤æ–­è·¯å¾„æ˜¯å¦åŒ¹é…åˆ¶å®šçš„æ‰©å±•å
	PathMatchSpec
	//åˆ¤æ–­è·¯å¾„æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ç›®å½•
	PathIsDirectory
	//éªŒè¯è·¯å¾„æ˜¯å¦ä¸€ä¸ªæ–‡ä»¶åï¼ˆæœ‰å¯èƒ½æ˜¯ä¸€ä¸ªè·¯å¾„ï¼‰
	PathIsFileSpec
	//éªŒè¯è·¯å¾„æ˜¯å¦æ˜¯å¯æ‰§è¡Œæ–‡ä»¶
	PathIsExe
	//æ³¨æ„:ä¸ä»…ä»…æ˜¯.exe,è¿˜æœ‰.batã€.comã€.srcç­‰
	//è·¯å¾„æ˜¯å¦ä¸ºæ ¹è·¯å¾„
	PathIsRoot
	//åˆ¤æ–­è·¯å¾„æ˜¯å¦æ˜¯ç›¸å¯¹è·¯å¾„
	PathIsRelative
	//æ£€æµ‹æ–‡ä»¶æ˜¯å¦ä¸ºåˆ¶å®šç±»å‹
	PathIsContentType
	//ä¾‹å¦‚:
	PathIsContentType(â€œhello.txtâ€,â€text/plainâ€) è¿”å›TRUE
	PathIsContentType(â€œhello.txtâ€,â€image/gifâ€) è¿”å›FALSE
	
	//åˆ¤æ–­è·¯å¾„æ˜¯å¦æ˜¯htmlæ–‡ä»¶ç±»å‹â€”â€”æ ¹æ®ç³»ç»Ÿæ³¨å†Œç±»å‹åˆ¤æ–­
	PathIsHTMLFile
	//åˆ¤æ–­è·¯å¾„æ˜¯å¦æ˜¯é•¿è·¯å¾„æ ¼å¼
	PathIsLFNFileSpec
	//åˆ¤æ–­è·¯å¾„æ˜¯å¦æ˜¯ä¸€ä¸ªç½‘ç»œè·¯å¾„ã€‚
	PathIsNetworkPath
	//åˆ¤æ–­è·¯å¾„æ˜¯å¦å«æœ‰æŒ‡å®šå‰ç¼€
	PathIsPrefix
	//åˆ¤æ–­è·¯å¾„æ˜¯å¦æœ‰ç›¸åŒæ ¹ç›®å½•
	PathIsSameRoot
	//åˆ¤æ–­è·¯å¾„æ˜¯å¦æ˜¯ä¸€ä¸ªé«˜åº¦å»¶è¿Ÿçš„ç½‘ç»œè¿æ¥
	PathIsSlow
	//åˆ¤æ–­è·¯å¾„æ˜¯å¦æœ‰ç³»ç»Ÿå±æ€§ï¼ˆå±æ€§å¯ä»¥è‡ªå·±è®¾å®šï¼‰
	PathIsSystemFolder
	//è·¯å¾„æ˜¯å¦æ˜¯UNCæ ¼å¼ï¼ˆç½‘ç»œè·¯å¾„ï¼‰
	PathIsUNC
	//è·¯å¾„æ˜¯å¦æ˜¯UNCæœåŠ¡å™¨
	PathIsUNCServer
	//è·¯å¾„æ˜¯å¦ä»…ä»…æ˜¯UNCçš„å…±äº«è·¯å¾„æ ¼å¼
	PathIsUNCServerShare
	//è·¯å¾„æ˜¯å¦æ˜¯httpæ ¼å¼ã€‚
	PathIsURL
	//åŸºäºå·²å­˜åœ¨çš„æ–‡ä»¶,è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªå”¯ä¸€çš„æ–‡ä»¶åã€‚æ¯”å¦‚å­˜åœ¨â€æ–°å»ºæ–‡ä»¶â€,æ­¤å‡½æ•°ä¼šåˆ›å»ºæ–‡ä»¶åâ€æ–°å»ºæ–‡ä»¶(2)â€
	PathYetAnotherMakeUniqueName 

```







# æ— æ³•åœ¨åˆ†åŒºä¸Šå®‰è£…windows

```
rufus-3.17
äºŒã€æ— æ³•åœ¨é©±åŠ¨å™¨0åˆ†åŒºä¸Šå®‰è£…windowsè§£å†³æ–¹æ³•
1ã€åœ¨å½“å‰å®‰è£…ç•Œé¢æŒ‰ä½Shift+F10è°ƒå‡ºå‘½ä»¤æç¤ºç¬¦çª—å£ï¼›
2ã€è¾“å…¥diskpartï¼ŒæŒ‰å›è½¦æ‰§è¡Œï¼›
3ã€è¿›å…¥DISKPARTå‘½ä»¤æ¨¡å¼ï¼Œè¾“å…¥list diskå›è½¦ï¼Œåˆ—å‡ºå½“å‰ç£ç›˜ä¿¡æ¯ï¼›
4ã€è¦è½¬æ¢ç£ç›˜0æ ¼å¼ï¼Œåˆ™è¾“å…¥select disk 0å›è½¦ï¼Œè¾“å…¥cleanï¼Œåˆ é™¤ç£ç›˜åˆ†åŒºï¼›
5ã€è¾“å…¥convert mbrï¼Œå›è½¦ï¼Œå°†ç£ç›˜è½¬æ¢ä¸ºMBRï¼Œè¾“å…¥convert gptåˆ™è½¬ä¸ºGPTï¼›
6ã€æœ€åè¾“å…¥exitå›è½¦é€€å‡ºå‘½ä»¤æç¤ºç¬¦ï¼Œè¿”å›å®‰è£…ç•Œé¢ç»§ç»­å®‰è£…ç³»ç»Ÿã€‚
7ã€ç„¶åç‚¹å‡»æ–°å»ºç£ç›˜å°±å¯ä»¥å®‰è£…é©±åŠ¨ã€‚

è®°ä½ï¼šæœ€é‡è¦çš„æ˜¯ï¼Œå®Œæˆä»¥ä¸Šæ­¥éª¤ä¹‹åï¼Œè¿”å›åˆšå¼€å§‹çš„ç•Œé¢é‡æ–°ç‚¹å‡»å®‰è£…Windowsï¼Œä¹‹åï¼Œæ‰å¯ä»¥ã€‚

```



# åŒä¸€ä¸ªå±€åŸŸç½‘ä¸­ï¼Œpingä¸é€šå…¶ä»–ç”µè„‘



```
åŸå› ï¼š

å› ä¸ºwindowsé˜²ç«å¢™é»˜è®¤è®¾ç½®çš„æ˜¯ä¸è®©åˆ«äººpingé€šçš„ï¼Œæ‰€ä»¥æ–¹æ³•å°±æ˜¯ï¼Œä¿®æ”¹é˜²ç«å¢™ç›¸å…³è®¾ç½®ã€‚

æ­¥éª¤ï¼šæ§åˆ¶é¢æ¿ â†’  ç³»ç»Ÿå’Œå®‰å…¨ â†’ Windowsé˜²ç«å¢™ â†’ é«˜çº§è®¾ç½® â†’ å…¥ç«™è§„åˆ™ â†’ æ–‡ä»¶å’Œæ‰“å°æœºå…±äº«ï¼ˆå›æ˜¾è¯·æ±‚ - ICMPv4-Inï¼‰è®¾ç½®ä¸ºå¯ç”¨


ç°åœ¨ï¼Œåº”è¯¥å°±å¯ä»¥æˆåŠŸpingé€šäº†ã€‚
```



# æ›´æ–°å¤±è´¥

```
ã€€æ“ä½œæ–¹æ³•ï¼š

ã€€ã€€1ã€å³é”®ç‚¹å‡»â€œæ­¤ç”µè„‘â€ï¼Œé€‰æ‹©â€œç®¡ç†â€ã€‚

ã€€ã€€2ã€è¿›å…¥åˆ°è®¡ç®—æœºç®¡ç†åï¼Œç‚¹å‡»å·¦ä¾§ä¸‹é¢çš„â€œæœåŠ¡å’Œåº”ç”¨ç¨‹åºâ€ï¼Œç‚¹é€‰â€œæœåŠ¡â€ã€‚

ã€€ã€€3ã€æ‰¾åˆ°windows Updateï¼Œç‚¹å‡»åï¼Œé€‰æ‹©â€œå±æ€§â€ã€‚

ã€€ã€€4ã€è¿›å…¥åˆ°å±æ€§ç•Œé¢åï¼Œåœ¨å¯åŠ¨ç±»å‹ä¸­é€‰ï¼šæ‰‹åŠ¨ã€‚ç‚¹å‡»ç¡®å®šåé€€å‡ºè®¾ç½®ã€‚

ã€€ã€€5ã€å³å‡»ï¼šwindows Update ï¼Œé€‰æ‹©ï¼šå¯åŠ¨å³å¯ã€‚

ã€€ã€€ä»¥ä¸Šå°±æ˜¯win10ç³»ç»Ÿæ›´æ–°é”™è¯¯çš„è¯¦ç»†è§£å†³æ–¹æ³•äº†ï¼Œå¤§å®¶å¯ä»¥æŒ‰ç…§ä¸Šè¿°çš„æ­¥éª¤æ¥è§£å†³é‡åˆ°çš„é”™è¯¯ä»£ç 0x800f081fé—®é¢˜
```







# æ‰‹æœºè¿ç½‘ä¸Šé‚»å±…

```
ç”µè„‘ç«¯ç›®å‰ç”±äºWin10 ç³»ç»Ÿæœ€æ–°è¡¥ä¸ä¿®æ”¹äº† Samba è®¿é—®æœåŠ¡å™¨çš„å®‰å…¨ç­–ç•¥ï¼Œwindow10ç³»ç»Ÿé»˜è®¤ä¸å¼€å¯â€œSMB1.0/CIFS æ–‡ä»¶å…±äº«æ”¯æŒâ€åŠŸèƒ½ï¼Œæ‰€ä»¥win10ç”µè„‘è¿æ¥ç½‘ç»œé‚»å±…é‚»å±…å‰ï¼Œè¦å…ˆæ‰“å¼€SMB1.0/CIFS æ–‡ä»¶å…±äº«ã€‚

1ã€è¿›å…¥æ§åˆ¶é¢æ¿ã€‚

2ã€åœ¨ç¨‹åºåˆ†ç±»ä¸­æ‰¾åˆ°ç¨‹åºå’ŒåŠŸèƒ½ï¼Œåœ¨å·¦ä¾§æ æ‰¾åˆ°å¯ç”¨å’Œå…³é—­windowsåŠŸèƒ½ï¼Œå†ä¾æ¬¡æ‰¾åˆ°å›¾ä¸­æ‰€ç¤ºçš„SMB 1.0 /CIFS æœåŠ¡å™¨ï¼Œå‹¾é€‰å·¦ä¾§çš„å‹¾ï¼Œç‚¹å‡»ç¡®å®šã€‚

3ã€é‡å¯ã€‚

ç„¶åæ‰‹æœºå°è¯•è¿æ¥ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š

å°†æ‰‹æœºå’Œç”µè„‘è¿æ¥åˆ°åŒä¸€ä¸ª Wi-Fi ç½‘ç»œã€‚
åœ¨ç”µè„‘ä¸Šï¼Œè®¾ç½®æƒ³åœ¨æ‰‹æœºä¸Šè®¿é—®æ–‡ä»¶å¤¹çš„å…±äº«æƒé™ã€‚æœ‰å…³ç”µè„‘ä¾§çš„æ“ä½œï¼Œè¯·å‚è€ƒç”µè„‘æ‰€è£…æ“ä½œç³»ç»Ÿçš„ç›¸å…³è¯´æ˜ã€‚
åœ¨æ‰‹æœºä¸Šï¼Œæ‰“å¼€â€œâ€â€œæ–‡ä»¶ç®¡ç†â€ã€‚
åœ¨â€œåˆ†ç±»â€é¡µç­¾ä¸‹ï¼Œç‚¹å‡»â€œç½‘ç»œé‚»å±…â€ï¼Œå³å¯æŸ¥çœ‹åˆ°å®¶ä¸­çš„ç”µè„‘è®¾å¤‡ã€‚
ç‚¹å‡»è¦è®¿é—®çš„ç”µè„‘è®¾å¤‡ï¼Œè¾“å…¥ç”µè„‘è®¾å¤‡çš„ç™»å½•å¸å·å’Œå¯†ç ã€‚ç™»å½•æˆåŠŸåï¼Œå³å¯åœ¨æ‰‹æœºä¸Šè®¿é—®ç”µè„‘å·²å…±äº«çš„æ–‡ä»¶ã€‚
å¦‚éœ€åœæ­¢è®¿é—®ï¼Œåœ¨ç½‘ç»œé‚»å±…è®¾å¤‡åˆ—è¡¨ä¸­ï¼Œé•¿æŒ‰è®¾å¤‡å³å¯æ–­å¼€è¿æ¥ã€‚
```





# å®‰è£…ç¨‹åº 2503 é”™è¯¯

[fix-2502-2503](https://www.boxaid.com/blog/how-to-fix-2502-2503-errors/)

```
cmd # ä»¥ç®¡ç†å‘˜è¿œè¡Œ
msiexec /package 7z1900-x64.msi

c:\windows\temp
	# æŠŠåªè¯»å±æ€§å»æ‰
	# å®‰å…¨é‡Œ Administrator æœ‰å®Œå…¨æ§åˆ¶æƒé™

```







# åŒç½‘å¡ Wi-Fi ä¸­ç»§ï¼ˆä¸€æ”¶ä¸€å‘ï¼‰



- https://www.sailstars.one/post/L2cMH1XUC/

  > åŒç½‘å¡ Wi-Fi ä¸­ç»§ï¼ˆä¸€æ”¶ä¸€å‘ï¼‰



# mkdir -p



```
mkdir "src/java/resources" "src/main/resources"

src
-----java
-------resources
-----main
-------resources

mkdir "E:\videos\anime\Danganronpa\S01\[Kamigami] Danganronpa Kibou no Gakuen to Zetsubou no Koukousei The Animation [1280x720 x264 AAC MKV Sub(Chs,Jap)]"
```



# which

```
> Get-Command node  # æ˜¾ç¤ºnode çš„è·¯å¾„
```



# ln -s

```
cd C:/
C:
cd "Program Files"
mklink /D nodejs nodejs_v14.18.1  # åˆ›å»ºè½¯é“¾æ¥nodejs
	# è½¯é“¾å¯ä»¥ç›´æ¥åˆ é™¤
mklink /D nodejs D:\usr\node-v10.14.2-win-x64

```



# cp -rf

[copy å‘½ä»¤](https://blog.csdn.net/JintGuo/article/details/77542490)

```
xcopy E:\usr\PandoraNext\* E:\huggingface\pandoraNext /k /e /d /Y
cd E:\huggingface\pandoraNext
git lfs install
git add .
git commit -m 'm'
git lfs migrate import --everything
git push
	# æˆåŠŸ
	
schtasks /Create /SC MINUTE /MO 10 /TN "MyTask" /TR "powershell.exe -ExecutionPolicy Bypass -File E:\huggingface\push.ps1"
	# æ¯éš”ååˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡è„šæœ¬


cd E:\huggingface\pandoraNext
Copy-Item -Path "E:\usr\PandoraNext\*" -Destination "." -Recurse -Force
	# æ²¡æœ‰ä½œç”¨
	
	
function Copy-FileSafer {

 [CmdletBinding()]

 param (

   [string]$path,

   [string]$destinationfolder

 )

 if (-not (Test-Path -Path $path)) {

   throw "File not found: $path" 

 }

 $sourcefile = Split-Path -Path $path -Leaf

 $destinationfile = Join-Path -Path $destinationfolder -ChildPath $sourcefile

 $b4hash = Get-FileHash -Path $path

 try {

    Copy-Item -Path $path -Destination $destinationfolder -ErrorAction Stop

 }

 catch {

   throw "File copy failed"

 }

 finally {

   $afhash = Get-FileHash -Path $destinationfile

   if ($afhash.Hash -ne $b4hash.Hash) {

      throw "File corrupted during copy"

   }

   else {

     Write-Information -MessageData "File copied successfully" -InformationAction Continue

   }

 }

}
```



# md5

```
Get-FileHash -Path "E:\huggingface\rwkv5-jp-explain\out\rwkv-50.pth" -Algorithm MD5
	# powershell

md5sum out2__/rwkv-50.pth 
	# ubuntu

```





# æŸ¥çœ‹ç«¯å ç”¨



```
netstat -aon | findstr "8080"
netstat -ano | findstr :6006
```





# æ€è¿›ç¨‹

```
taskkill -PID è¿›ç¨‹å· -F
```



```
 Get-Process | Where-Object { $_.Name -like "Face*" } | Stop-Process
 	# kill æ‰ä»¥ Face* å¼€å¤´çš„è¿›ç¨‹

```





# ç«¯å£è½¬å‘

```

netsh interface portproxy add v4tov4 listenaddress=0.0.0.0 listenport=2222 connectaddress=127.0.0.1 connectport=22
	# WSL2 çš„ 22 ç«¯å£åŸå…ˆåªæœ‰ 127.0.0.1:22 å®ƒæ‰é€š
	# candy 10.0.0.3:2222 ç°åœ¨å¯ä»¥è¿™æ ·è®¿é—®
	# nmap -p 2222 10.0.0.3 
		# å®æµ‹è¿é€š


netsh interface portproxy add v4tov4  listenaddress=209.141.34.77 listenport=80 connectaddress=209.141.34.77 connectport=7999
	# 80 è½¬ 7999

netsh interface  portproxy show  v4tov4
	# show

netsh interface  portproxy delete v4tov4 listenaddress=209.141.34.77 listenport=80
	# delete

```



# æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨

```
Start-Process -FilePath "Taskmgr.exe" -Verb RunAs
```





# éå†è¿›ç¨‹

[éå†è¿›ç¨‹](https://github.com/dbshch/DOAXVV-script)



# å¤šç”¨æˆ·è¿œç¨‹ç™»å½•

- https://www.exitthefastlane.com/2018/02/resource-sharing-in-server2016-rdsh.html?m=1



# Win10 WSL | Ubuntu 18.04 with Xfce & Xrdp



## MUST make sure that the XRDP doesnâ€™t use port 3389 

- which is used by Microsoft RDP (in case if your Windows 10 is already configured for RDP)



```
sudo apt install xfce4
sudo apt install xrdp && \
sudo echo xfce4-session >~/.xsession && \
sudo service xrdp restart
```



### Change the port from 3389 to 3390



```
vi /etc/xrdp/xrdp.ini

service xrdp restart
```



## Use Win10 remote destop to connect



Press Win key -> é™„ä»¶ -> è¿œç¨‹æ¡Œé¢

> input: 
>
> localhost:3390








```
sudo apt-get install xfce4

å¦‚æœç½‘é€Ÿè¾ƒæ…¢ï¼Œè¿™ä¼šæŒç»­ä¸€æ®µæ—¶é—´ã€‚

ç„¶åå®‰è£…xrdpç»„ä»¶å’ŒvncæœåŠ¡å™¨ï¼š

sudo apt-get install xrdp vnc4server

å®‰è£…å¥½åè¦è‡ªè¡Œæ–°å»ºé…ç½®æ–‡ä»¶ï¼Œä½¿å¾—åœ¨è¿œç¨‹ç™»å½•æ—¶é»˜è®¤ä½¿ç”¨xfceä½œä¸ºç•Œé¢ç™»å½•ï¼Œç„¶åé‡å¯xrdpæœåŠ¡ï¼š

echo "xfce4-session" >~/.xsession

sudo service xrdp restart

è¿™ä¸ªç›¸å½“äºåœ¨å½“å‰ç”¨æˆ·çš„homeç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªåä¸º.xsessionçš„éšè—æ–‡ä»¶ï¼Œå¹¶å‘æ–‡ä»¶ä¸­å†™å…¥ä¸€è¡Œxfce4-sessionã€‚ä¹Ÿå¯ä»¥ç”¨touchæ–°å»ºæ–‡ä»¶ï¼Œå¹¶ç”¨viç¼–è¾‘ï¼š

touch ~/.xsession

vi ~/.xsession
```









# Docker

- https://blog.yowko.com/windows-server-2016-hyper-v/
  - å¦‚ä½•åœ¨ Windows Server 2016 ä¸Šå®‰è£ Hyper-V

- https://blog.yowko.com/windows-server-2016-linux-container/
  - åœ¨ Windows Server 2016 ä¸Šä½¿ç”¨ Linux Container



# NFS



- https://blog.csdn.net/qq_34158598/article/details/81976063



# å†…ç½‘æµ‹é€Ÿ

- https://zhuanlan.zhihu.com/p/137958252

  > iPerf3 æ­å»ºå±€åŸŸç½‘å†…éƒ¨æµ‹é€Ÿç¯å¢ƒ



# wifi crack



- https://lofter.me/2018/10/22/Kali-Linux-%E9%AB%98%E6%95%88%E7%A0%B4%E8%A7%A3Wifi%E5%AF%86%E7%A0%81/



# çº¢ç±³ AX6 åˆ·æœº

[ä½¿ç”¨è™šæ‹Ÿæœºè§£é”çº¢ç±³ax6-sshå¹¶åˆ·å…¥qsdkå›ºä»¶](https://www.bilibili.com/video/BV1fQ4y1R7LY)

[Redmiçº¢ç±³AX6 è§£é”SSH åˆ·æœº ](https://www.youtube.com/watch?v=Pv1VstarERg)

[çº¢ç±³ AX6 å®‰è£… ShellClash ä½“éªŒåˆ†äº«](https://www.v2ex.com/t/927935)

[çº¢ç±³AX6 ç¬¬ä¸‰æ–¹ä¸æ­» U-Boot åˆ·å…¥æ•™ç¨‹](https://www.youtube.com/watch?v=K-MZLD62KRg)



```
AX6 ssh 192.168.31.1 å¯†ç 
6e3ee24d

çº¢ç±³ AX6 è‡ªç”¨ç²¾ç®€ Openwrtï¼š
é»˜è®¤ç³»ç»Ÿåå°ï¼š192.168.123.1
è´¦å·ï¼šroot
å¯†ç ï¼špassword
é›†æˆæ’ä»¶ï¼šssr plusã€TTYD ç»ˆç«¯
```



## Openwrt æ—è·¯ç”±

[æ—è·¯ç”±](https://blog.sinovale.com/4273.html)

[æ—è·¯ç”± ä¸å¥½ç”¨](https://zhuanlan.zhihu.com/p/112484256)

```
å‰æï¼šä¸»ç”±è·¯ 192.168.1.1

ç”µè„‘ç½‘çº¿è¿ AX6, é€šè¿‡ 192.168.123.1 è¿æ¥æ—è·¯ç”±

ç½‘ç»œ ->æ¥å£ ->LAN ->ä¿®æ”¹ ->åŸºæœ¬è®¾ç½®

åè®®ï¼šé™æ€åœ°å€
IPv4åœ°å€ï¼š192.168.1.119
IPv4å­ç½‘æ©ç ï¼š255.255.255.0
IPv4ç½‘å…³ï¼š192.168.1.1
IPv4å¹¿æ’­ï¼šç©º

ä½¿ç”¨è‡ªå®šä¹‰çš„DNSæœåŠ¡å™¨ï¼š119.29.29.29 æˆ– 223.5.5.5
IPv6åˆ†é…é•¿åº¦ï¼šç¦ç”¨
IPv6åœ°å€ï¼šç©º
IPv6ç½‘å…³ï¼šç©º
IPv6è·¯ç”±å‰ç¼€ï¼šç©º
IPv6åç¼€ï¼šç©º

119.29.29.29

```









## Openwrt æ—è·¯ç½‘å…³

[æ—è·¯ç½‘å…³](https://sspai.com/post/68511)


```